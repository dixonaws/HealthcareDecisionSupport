{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 24a2906fe86e5bedab79","webpack:///./node_modules/core-js/library/modules/_core.js","webpack:///./node_modules/core-js/library/modules/_wks.js","webpack:///./node_modules/core-js/library/modules/_global.js","webpack:///./node_modules/core-js/library/modules/_export.js","webpack:///./node_modules/core-js/library/modules/_object-dp.js","webpack:///./node_modules/core-js/library/modules/_an-object.js","webpack:///./node_modules/core-js/library/modules/_descriptors.js","webpack:///./node_modules/vue-loader/lib/component-normalizer.js","webpack:///./node_modules/core-js/library/modules/_hide.js","webpack:///./node_modules/core-js/library/modules/_has.js","webpack:///./node_modules/core-js/library/modules/_to-iobject.js","webpack:///./node_modules/core-js/library/modules/_fails.js","webpack:///./node_modules/core-js/library/modules/_object-keys.js","webpack:///./node_modules/babel-runtime/core-js/promise.js","webpack:///./node_modules/core-js/library/modules/_iterators.js","webpack:///./node_modules/babel-runtime/helpers/extends.js","webpack:///./node_modules/core-js/library/modules/_ctx.js","webpack:///./node_modules/core-js/library/modules/_is-object.js","webpack:///./node_modules/core-js/library/modules/_property-desc.js","webpack:///./node_modules/core-js/library/modules/_cof.js","webpack:///./node_modules/core-js/library/modules/es6.string.iterator.js","webpack:///./node_modules/core-js/library/modules/_a-function.js","webpack:///./node_modules/core-js/library/modules/_uid.js","webpack:///./node_modules/core-js/library/modules/_object-pie.js","webpack:///./node_modules/core-js/library/modules/_to-object.js","webpack:///./node_modules/core-js/library/modules/_library.js","webpack:///./node_modules/core-js/library/modules/_set-to-string-tag.js","webpack:///./node_modules/core-js/library/modules/web.dom.iterable.js","webpack:///./node_modules/core-js/library/modules/_dom-create.js","webpack:///./node_modules/core-js/library/modules/_to-primitive.js","webpack:///./node_modules/core-js/library/modules/_defined.js","webpack:///./node_modules/core-js/library/modules/_to-length.js","webpack:///./node_modules/core-js/library/modules/_to-integer.js","webpack:///./node_modules/core-js/library/modules/_shared-key.js","webpack:///./node_modules/core-js/library/modules/_shared.js","webpack:///./node_modules/core-js/library/modules/_enum-bug-keys.js","webpack:///./node_modules/core-js/library/modules/_object-gops.js","webpack:///./node_modules/babel-runtime/helpers/classCallCheck.js","webpack:///./node_modules/babel-runtime/core-js/object/define-property.js","webpack:///./node_modules/core-js/library/modules/_classof.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator-method.js","webpack:///./node_modules/core-js/library/modules/_new-promise-capability.js","webpack:///./node_modules/babel-runtime/helpers/typeof.js","webpack:///./node_modules/core-js/library/modules/_wks-ext.js","webpack:///./node_modules/core-js/library/modules/_wks-define.js","webpack:///./src/config/index.js","webpack:///./node_modules/babel-runtime/core-js/object/assign.js","webpack:///./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack:///./node_modules/core-js/library/modules/_object-keys-internal.js","webpack:///./node_modules/core-js/library/modules/_iobject.js","webpack:///./node_modules/core-js/library/modules/_iter-define.js","webpack:///./node_modules/core-js/library/modules/_redefine.js","webpack:///./node_modules/core-js/library/modules/_object-create.js","webpack:///./node_modules/core-js/library/modules/_html.js","webpack:///./node_modules/core-js/library/modules/_iter-call.js","webpack:///./node_modules/core-js/library/modules/_is-array-iter.js","webpack:///./node_modules/core-js/library/modules/_species-constructor.js","webpack:///./node_modules/core-js/library/modules/_task.js","webpack:///./node_modules/core-js/library/modules/_perform.js","webpack:///./node_modules/core-js/library/modules/_promise-resolve.js","webpack:///./node_modules/core-js/library/modules/_iter-detect.js","webpack:///./node_modules/babel-runtime/core-js/object/keys.js","webpack:///./node_modules/core-js/library/modules/_object-gopn.js","webpack:///./node_modules/babel-runtime/helpers/slicedToArray.js","webpack:///./node_modules/babel-runtime/helpers/createClass.js","webpack:///./src/lex-web-ui.js","webpack:///./node_modules/core-js/library/fn/object/assign.js","webpack:///./node_modules/core-js/library/modules/es6.object.assign.js","webpack:///./node_modules/core-js/library/modules/_object-assign.js","webpack:///./node_modules/core-js/library/modules/_array-includes.js","webpack:///./node_modules/core-js/library/modules/_to-absolute-index.js","webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./node_modules/core-js/library/fn/promise.js","webpack:///./node_modules/core-js/library/modules/_string-at.js","webpack:///./node_modules/core-js/library/modules/_iter-create.js","webpack:///./node_modules/core-js/library/modules/_object-dps.js","webpack:///./node_modules/core-js/library/modules/_object-gpo.js","webpack:///./node_modules/core-js/library/modules/es6.array.iterator.js","webpack:///./node_modules/core-js/library/modules/_add-to-unscopables.js","webpack:///./node_modules/core-js/library/modules/_iter-step.js","webpack:///./node_modules/core-js/library/modules/es6.promise.js","webpack:///./node_modules/core-js/library/modules/_an-instance.js","webpack:///./node_modules/core-js/library/modules/_for-of.js","webpack:///./node_modules/core-js/library/modules/_invoke.js","webpack:///./node_modules/core-js/library/modules/_microtask.js","webpack:///./node_modules/core-js/library/modules/_redefine-all.js","webpack:///./node_modules/core-js/library/modules/_set-species.js","webpack:///./node_modules/core-js/library/modules/es7.promise.finally.js","webpack:///./node_modules/core-js/library/modules/es7.promise.try.js","webpack:///external \"vue\"","webpack:///external \"vuex\"","webpack:///external \"aws-sdk/global\"","webpack:///external \"aws-sdk/clients/lexruntime\"","webpack:///external \"aws-sdk/clients/polly\"","webpack:///./src/components/LexWeb.vue?b19d","webpack:///./src/components/LexWeb.vue?c6c4","webpack:///src/components/LexWeb.vue","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///./node_modules/core-js/library/modules/_object-sap.js","webpack:///./src/components/ToolbarContainer.vue","webpack:///src/components/ToolbarContainer.vue","webpack:///./src/components/ToolbarContainer.vue?a416","webpack:///./src/components/MessageList.vue?1c68","webpack:///./src/components/MessageList.vue?a09a","webpack:///src/components/MessageList.vue","webpack:///./src/components/Message.vue?3319","webpack:///./src/components/Message.vue?633a","webpack:///src/components/Message.vue","webpack:///./src/components/MessageText.vue?588c","webpack:///./src/components/MessageText.vue?a9a5","webpack:///src/components/MessageText.vue","webpack:///./src/components/MessageText.vue?0813","webpack:///./src/components/ResponseCard.vue?b224","webpack:///./src/components/ResponseCard.vue?94ef","webpack:///src/components/ResponseCard.vue","webpack:///./src/components/ResponseCard.vue?150e","webpack:///./src/components/Message.vue?aae4","webpack:///./src/components/MessageList.vue?5dce","webpack:///./src/components/InputContainer.vue?8884","webpack:///./src/components/InputContainer.vue?19af","webpack:///src/components/InputContainer.vue","webpack:///./src/components/RecorderStatus.vue?4ff6","webpack:///./src/components/RecorderStatus.vue?8b12","webpack:///src/components/RecorderStatus.vue","webpack:///./src/components/RecorderStatus.vue?c1e6","webpack:///./src/components/InputContainer.vue?efec","webpack:///./src/components/LexWeb.vue?0575","webpack:///./src/store/index.js","webpack:///./src/store/state.js","webpack:///./node_modules/babel-runtime/core-js/symbol/iterator.js","webpack:///./node_modules/core-js/library/fn/symbol/iterator.js","webpack:///./node_modules/babel-runtime/core-js/symbol.js","webpack:///./node_modules/core-js/library/fn/symbol/index.js","webpack:///./node_modules/core-js/library/modules/es6.symbol.js","webpack:///./node_modules/core-js/library/modules/_meta.js","webpack:///./node_modules/core-js/library/modules/_keyof.js","webpack:///./node_modules/core-js/library/modules/_enum-keys.js","webpack:///./node_modules/core-js/library/modules/_is-array.js","webpack:///./node_modules/core-js/library/modules/_object-gopn-ext.js","webpack:///./node_modules/core-js/library/modules/_object-gopd.js","webpack:///./node_modules/core-js/library/modules/es7.symbol.async-iterator.js","webpack:///./node_modules/core-js/library/modules/es7.symbol.observable.js","webpack:///./node_modules/babel-runtime/helpers/defineProperty.js","webpack:///./node_modules/babel-runtime/core-js/is-iterable.js","webpack:///./node_modules/core-js/library/fn/is-iterable.js","webpack:///./node_modules/core-js/library/modules/core.is-iterable.js","webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js","webpack:///./src/config ^\\.\\/config\\..*\\.json$","webpack:///./src/config/config.dev.json","webpack:///./src/config/config.prod.json","webpack:///./src/config/config.test.json","webpack:///./src/store/getters.js","webpack:///./src/store/mutations.js","webpack:///./src/store/actions.js","webpack:///./src/lib/lex/recorder.js","webpack:///./node_modules/babel-runtime/helpers/toConsumableArray.js","webpack:///./node_modules/babel-runtime/core-js/array/from.js","webpack:///./node_modules/core-js/library/fn/array/from.js","webpack:///./node_modules/core-js/library/modules/es6.array.from.js","webpack:///./node_modules/core-js/library/modules/_create-property.js","webpack:///./src/lib/lex/wav-worker.js","webpack:///./node_modules/worker-loader/createInlineWorker.js","webpack:///./src/store/recorder-handlers.js","webpack:///./src/assets/silent.ogg","webpack:///./src/assets/silent.mp3","webpack:///./src/lib/lex/client.js"],"names":["envShortName","find","startsWith","env","console","error","configEnvFile","require","configDefault","region","cognito","poolId","lex","botName","botAlias","initialText","initialSpeechInstruction","sessionAttributes","reInitSessionAttributesOnRestart","enablePlaybackInterrupt","playbackInterruptVolumeThreshold","playbackInterruptLevelThreshold","playbackInterruptNoiseThreshold","playbackInterruptMinDuration","polly","voiceId","ui","pageTitle","parentOrigin","textInputPlaceholder","toolbarColor","toolbarTitle","toolbarLogo","favIcon","pushInitialTextOnRestart","convertUrlToLinksInBotMessages","stripTagsFromBotMessages","recorder","enable","recordingTimeMax","recordingTimeMin","quietThreshold","quietTimeMin","volumeThreshold","useAutoMuteDetect","converser","silentConsecutiveRecordingMax","urlQueryParams","getUrlQueryParams","url","split","slice","reduce","params","queryString","map","queryObj","param","key","value","paramObj","decodeURIComponent","e","getConfigFromQuery","query","lexWebUiConfig","JSON","parse","mergeConfig","baseConfig","srcConfig","deep","mergeValue","base","src","shouldMergeDeep","merged","configItem","configFromFiles","queryParams","window","location","href","configFromQuery","configFromMerge","config","Component","name","template","components","LexWeb","loadingComponent","errorComponent","AsyncComponent","component","resolve","loading","delay","timeout","Plugin","install","VueConstructor","componentName","awsConfig","lexRuntimeClient","pollyClient","warn","prototype","Store","Loader","mergedConfig","Vue","Error","VuexConstructor","Vuex","AWSConfigConstructor","AWS","Config","CognitoConstructor","CognitoIdentityCredentials","PollyConstructor","Polly","LexRuntimeConstructor","LexRuntime","credentials","IdentityPoolId","store","use","strict","state","getters","mutations","actions","version","acceptFormat","dialogState","isInterrupting","isProcessing","inputTranscript","intentName","message","responseCard","slotToElicit","slots","messages","outputFormat","botAudio","canInterrupt","interruptIntervalId","autoPlay","isSpeaking","recState","isConversationGoing","isMicMuted","isMicQuiet","isRecorderSupported","isRecorderEnabled","isRecording","silentRecordingCount","isRunningEmbedded","isUiMinimized","awsCreds","provider","canInterruptBotPlayback","isBotSpeaking","isLexInterrupting","isLexProcessing","setIsMicMuted","bool","setIsMicQuiet","setIsConversationGoing","startRecording","info","start","stopRecording","stop","increaseSilentRecordingCount","resetSilentRecordingCount","setIsRecorderEnabled","setIsRecorderSupported","setIsBotSpeaking","setAudioAutoPlay","audio","status","autoplay","setCanInterruptBotPlayback","setIsBotPlaybackInterrupting","setBotPlaybackInterruptIntervalId","id","updateLexState","lexState","setLexSessionAttributes","setIsLexProcessing","setIsLexInterrupting","setAudioContentType","type","setPollyVoiceId","origin","configFiltered","setIsRunningEmbedded","toggleIsUiMinimized","pushMessage","push","length","setAwsCredsProvider","awsCredentials","lexClient","initCredentials","context","dispatch","reject","getConfigFromParent","event","then","configResponse","data","initConfig","configObj","commit","initMessageList","text","initLexClient","initPollyClient","client","creds","initRecorder","init","initOptions","initRecorderHandlers","catch","indexOf","initBotAudio","audioElement","silentSound","canPlayType","mimeType","preload","reInitBot","getAudioUrl","blob","URL","createObjectURL","play","onended","onerror","err","playAudio","onloadedmetadata","playAudioHandler","clearPlayback","intervalId","clearInterval","onpause","playAudioInterruptHandler","intervalTimeInMs","duration","setInterval","end","played","volume","max","slow","setTimeout","pause","getAudioProperties","currentTime","ended","paused","startConversation","stopConversation","getRecorderVolume","pollyGetBlob","synthReq","synthesizeSpeech","Text","VoiceId","OutputFormat","promise","Blob","AudioStream","ContentType","pollySynthesizeSpeech","audioUrl","interruptSpeechConversation","count","countMax","postTextMessage","response","lexPostText","postText","lexPostContent","audioBlob","offset","size","timeStart","performance","now","postContent","lexResponse","timeEnd","toFixed","processLexContentResponse","lexData","audioStream","contentType","lexStateDefault","appContext","pushErrorMessage","getCredentialsFromParent","credsExpirationDate","Date","expireTime","credsResponse","Credentials","AccessKeyId","SecretKey","SessionToken","IdentityId","accessKeyId","secretAccessKey","sessionToken","identityId","expired","getPromise","getCredentials","sendMessageToParentWindow","messageChannel","MessageChannel","port1","onmessage","evt","close","port2","parent","postMessage","options","_eventTarget","document","createDocumentFragment","_encoderWorker","addEventListener","_exportWav","preset","_getPresetOptions","recordingTimeMinAutoIncrease","autoStopRecording","useBandPass","bandPassFrequency","bandPassQ","bufferLength","numChannels","requestEchoCancellation","muteThreshold","encoderUseTrim","encoderQuietTrimThreshold","encoderQuietTrimSlackBack","_presets","presets","low_latency","speech_recognition","_state","_instant","_slow","_clip","_maxVolume","Infinity","_isMicQuiet","_isMicMuted","_isSilentRecording","_silentRecordingConsecutiveCount","_initAudioContext","_initMicVolumeProcessor","_initStream","_stream","_recordingStartTime","_audioContext","dispatchEvent","Event","command","sampleRate","useTrim","quietTrimThreshold","quietTrimSlackBack","_quietStartTime","CustomEvent","detail","inputBuffer","buffer","i","numberOfChannels","getChannelData","_tracks","muted","AudioContext","webkitAudioContext","hidden","suspend","resume","processor","createScriptProcessor","onaudioprocess","_recordBuffers","input","sum","clipCount","Math","abs","sqrt","_setIsMicMuted","_setIsMicQuiet","_analyser","getFloatFrequencyData","_analyserData","_micVolumeProcessor","constraints","optional","echoCancellation","navigator","mediaDevices","getUserMedia","stream","getAudioTracks","label","onmute","onunmute","source","createMediaStreamSource","gainNode","createGain","analyser","createAnalyser","biquadFilter","createBiquadFilter","frequency","gain","Q","connect","smoothingTimeConstant","fftSize","minDecibels","maxDecibels","Float32Array","frequencyBinCount","destination","instant","clip","cb","module","exports","__webpack_public_path__","onstart","time","onstop","onsilentrecording","onunsilentrecording","onstreamready","onquiet","onunquiet","ondataavailable","lexAudioBlob","all","audioUrls","humanAudioUrl","lexAudioUrl","userId","floor","random","toString","substring","inputText","postTextReq","mediaType","postContentReq","accept","inputStream"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA,6BAA6B;AAC7B,uCAAuC;;;;;;;ACDvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA,yCAAyC;;;;;;;ACLzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE;AACA,kFAAkF;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,cAAc;AACd,cAAc;AACd,cAAc;AACd,eAAe;AACf,eAAe;AACf,eAAe;AACf,gBAAgB;AAChB;;;;;;;AC5DA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA;AACA;AACA;;;;;;;ACfA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA,iCAAiC,QAAQ,mBAAmB,UAAU,EAAE,EAAE;AAC1E,CAAC;;;;;;;ACHD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC1FA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;;;;;;ACPA,uBAAuB;AACvB;AACA;AACA;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACLA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;ACNA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACNA,kBAAkB,wD;;;;;;ACAlB;;;;;;;;ACAA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,E;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnBA;AACA;AACA;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACPA,iBAAiB;;AAEjB;AACA;AACA;;;;;;;;ACJA;AACA;;AAEA;AACA;AACA,6BAA6B;AAC7B,cAAc;AACd;AACA,CAAC;AACD;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,UAAU;AACV,CAAC;;;;;;;AChBD;AACA;AACA;AACA;;;;;;;ACHA;AACA;AACA;AACA;AACA;;;;;;;ACJA,cAAc;;;;;;;ACAd;AACA;AACA;AACA;AACA;;;;;;;ACJA;;;;;;;ACAA;AACA;AACA;;AAEA;AACA,oEAAoE,iCAAiC;AACrG;;;;;;;ACNA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACLA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA,kDAAkD;AAClD;AACA,uCAAuC;AACvC;;;;;;;ACLA;AACA;AACA;AACA;;;;;;;ACHA;;;;;;;;ACAA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,E;;;;;;ACRA,kBAAkB,wD;;;;;;ACAlB;AACA;AACA;AACA;AACA,2BAA2B,kBAAkB,EAAE;;AAE/C;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACPA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACjBA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,iHAAiH,mBAAmB,EAAE,mBAAmB,4JAA4J;;AAErT,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA,CAAC;AACD;AACA,E;;;;;;ACpBA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,sBAAsB;AAChF,kFAAkF,wBAAwB;AAC1G;;;;;;;;;;;;;;;;;;;;;;;;;ACRA;;;;;;;;;;;;;AAaA;;;;;;;;;;;;;;;;;AAiBA;;AAEA;;AAEA;AACA,IAAMA,eAAe,CACnB,KADmB,EAEnB,MAFmB,EAGnB,MAHmB,EAInBC,IAJmB,CAId;AAAA,SAAO,aAAqBC,UAArB,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,qEAAsE,mBAAmB,UAAU,EAAE,EAAE;AACvG,CAAC;;;;;;;ACFD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;;AAEA,8BAA8B,aAAa;;AAE3C;AACA;AACA;AACA;AACA;AACA,yCAAyC,oCAAoC;AAC7E,6CAA6C,oCAAoC;AACjF,KAAK,4BAA4B,oCAAoC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA,kCAAkC,2BAA2B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;ACrEA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;ACxCA;AACA;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnFA;AACA;AACA,YAAY;AACZ,GAAG;AACH,YAAY;AACZ;AACA;;;;;;;ACNA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACPA;AACA;;AAEA;AACA;AACA,iCAAiC,qBAAqB;AACtD;AACA,iCAAiC,SAAS,EAAE;AAC5C,CAAC,YAAY;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,SAAS,qBAAqB;AAC3D,iCAAiC,aAAa;AAC9C;AACA,GAAG,YAAY;AACf;AACA;;;;;;;ACrBA,kBAAkB,wD;;;;;;ACAlB;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACNA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wDAAwD,+BAA+B;AACvF;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC,G;;;;;;;AClDD;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BD;;;;;;;;;;;;;AAaA;;AAEA;;;;;AAKA;AACA;AACA;AAEA;AACA;;AAEA;AACA;;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;;ACZA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACZA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;ACZA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,cAAc;AACd,iBAAiB;AACjB;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;;;;;;ACjCA,8BAA8B;;;;;;;ACA9B;AACA,UAAU;AACV;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf,CAAC;;AAED;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,kCAAkC;AACrD,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,eAAe,uCAAuC;AACtD;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH,kBAAkB,yBAAyB,KAAK;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAA0D,oBAAoB;AAC9E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;AC/RD;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,iBAAiB,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA,mEAAmE,gBAAgB;AACnF;AACA;AACA,GAAG,4CAA4C,gCAAgC;AAC/E;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uCAAuC,sBAAsB,EAAE;AAC/D;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC,GAAG;AACH;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA,8DAA8D,UAAU,EAAE;AAC1E,KAAK;AACL;AACA,8DAA8D,SAAS,EAAE;AACzE,KAAK;AACL;AACA,CAAC,EAAE;;;;;;;;ACnBH;AACA;AACA;AACA;AACA;;AAEA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,CAAC,EAAE;;;;;;;ACXH,gD;;;;;;ACAA,gD;;;;;;ACAA,gD;;;;;;ACAA,gD;;;;;;ACAA,gD;;;;;;;;ACAA;AAAA;AACA,wBAAsT;AACtT;AACA;AACA;AACA;AACA;AACiP;AACjP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA,yC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmCA;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;;AAEA;QAEA;;AAEA;AACA;AAEA;AAJA;;kEAMA;0CACA;AACA;0DACA;yCACA;AACA;0CACA;yCACA;AACA;0CACA;yCACA;AACA;wCACA;yCACA;AACA;4CACA;+BACA;AAEA;AAnBA;sCAoBA;0EACA;mBACA;iDACA;gDACA;WACA;AACA;mBACA,yDAEA;gEACA;mBACA,oDAEA;oBACA,gDACA,eACA;gBACA,KACA,sHAEA;AAEA;;8DACA;iDACA;gDACA;AACA;AACA;;AACA;;sDACA;mCACA;;AACA;AACA;0FACA,6CACA,gFAEA;;;AACA,uFACA,uBACA,6CAEA,oCACA,oFAGA;;AACA,uFACA,uBACA,6EACA,oCACA,iCAIA;;AACA,gCACA,0CACA,sCAEA,mFAEA;;AACA,0BACA,mEAGA;8BACA;oBACA,oDAEA;AACA;AACA;;;kDAEA;kCACA;AACA;;AACA;iDACA;AACA;mEACA;6DACA;AACA;AACA;sBACA;iEACA;AACA;AACA;uBACA;aACA;uBACA;;mBAEA;2BAEA;AAHA;AAIA;AACA;aACA;sEACA;AACA;aACA;+BACA,wCACA;yBACA,+CAEA;AACA;AACA;aACA;iCACA;;qBAEA;6BACA;qBAEA;AAJA;AAKA;AAEA;;+BACA,mDAEA,4BACA;yBACA,+CAEA;AACA;AACA;AACA;4DACA;AAEA;;AAEA;AA3DA;AApGA,G;;;;;;AC3CA;AACA;;;;;;;ACDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACRD;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,qDAAqD,OAAO,EAAE;AAC9D;;;;;;;;;ACTA;AAAA;AACA;AACA;AACA;AACiP;AACjP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACcA;;;;;;;;;;;;AACA;QAEA;yDACA;;gDAEA;;gDAGA;AAFA;AAIA;AANA;;8CAQA;iBACA;AAEA;AAJA;AAVA,G;;;;;;;ACnCA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,iBAAiB;AACjB,kE;;;;;;;;AClCA;AAAA;AACA,yBAAqT;AACrT;AACA;AACA;AACA;AACA;AACgP;AAChP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA,yC;;;;;;;;;;;;;;;;;;;;;;;AC0BA;;;;;;;;;;;;AACA;;AAEA;QAEA;;AAGA;AAFA;;kCAIA;+BACA;AAEA;AAJA;;AAMA;;AACA;;iCACA;wCACA;AACA;AAEA;AAPA;AAVA,G;;;;;;;;AC9BA;AAAA;AACA,yBAAqT;AACrT;AACA;AACA;AACA;AACA;AACgP;AAChP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA,yC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8CA;;;;;;;;;;;;AACA;AACA;;AAEA;QAEA;UACA;;AAEA;AAEA;AAHA;;8CAKA;4CACA;eACA;AACA;2BACA;aACA;yCACA;aACA;aACA;wCACA;AACA;iBAEA;;AACA;oEACA;AACA,0BACA,uDACA,6CACA,gDACA,iFACA,wEAEA;AAEA;AAzBA;;oCA2BA;AACA;AAIA;;;;6CACA;qBACA;kBACA;AACA;AAEA;AAZA;AAjCA,G;;;;;;;;ACnDA;AAAA;AACA,yBAAqT;AACrT;AACA;AACA;AACA;AACA;AACgP;AAChP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA,yC;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgCA;;;;;;;;;;;;AACA;QAEA;UACA;;gEAEA;yCACA;AACA;gDACA;yCACA;AACA;sDACA;iDACA;AACA;kDACA;AACA;AACA;+DACA;sDACA;aACA;AAEA;AAjBA;;+CAmBA;aACA,oBACA,uBACA,wBACA,uBACA,sBACA;AACA;;AACA;;;AAEA;AACA;AACA;AACA;AACA;cACA;mBACA,OACA,qDACA,8CAEA;wCACA;oEACA;iBACA,+EACA;AAGA;OAlBA;AAmBA;qDAEA;;AACA;AACA;AACA;AACA;AACA;iCACA,0DACA;gCACA;iCACA;gDACA,6CACA;8DACA;AACA;kCACA;aACA;;OAhBA,EAiBA;AACA;;AACA;qEACA;+DACA;sBACA;iDACA;AAEA;AAvDA;AArBA,G;;;;;;;AClCA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,iBAAiB;AACjB,kE;;;;;;;;ACdA;AAAA;AACA,yBAAqT;AACrT;AACA;AACA;AACA;AACA;AACgP;AAChP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA,yC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuDA;;;;;;;;;;;;AACA;QAEA;UACA;wBACA;;4BAGA;AAFA;AAGA;;YAEA;;iDAEA;kCACA;;cAEA;cAGA;AAJA;;8CAKA;AAEA;AAVA;AAVA,G;;;;;;;ACzDA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,iBAAiB;AACjB,kE;;;;;;;AC5CA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,iBAAiB;AACjB,kE;;;;;;;AC3CA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,iBAAiB;AACjB,kE;;;;;;;;AClBA;AAAA;AACA,yBAAqT;AACrT;AACA;AACA;AACA;AACA;AACgP;AAChP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA,yC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgEA;;;;;;;;;;;;AACA;;AAEA;;AAEA;QAEA;wBACA;;iBAEA;0BAEA;AAHA;AAIA;;kCACA;;AAGA;AAFA;;4CAIA;wCACA;AACA;oEACA;wCACA;AACA;wDACA;AACA,kBACA,sDAEA;AACA;sCACA;wCACA;AACA;wDACA;wCACA;AACA;oDACA;wCACA;AACA;0DACA;qCACA;AACA;4CACA;2BACA;eACA;AACA;8BACA;eACA;AACA;aACA;AACA;kDACA;2BACA;eACA;AACA;8BACA;eACA;AACA;aACA;AACA;0DACA;AACA,2CACA,yDAEA;AACA;wDACA;0CACA;AAEA;AApDA;;sCAsDA;2CACA;oBACA;qCACA;oCACA;AAEA;;mFACA;AACA;kDACA;gCACA;AACA;gDACA;6DACA;kCACA;AACA;AACA;;AACA;;6CACA;AACA,sDAGA;;;aACA,sCACA,8BAEA,kGACA;AACA;;AACA;;sCACA;AACA;kCACA;qFACA;AAEA;;;cAEA;mBAGA;AAJA;;qDAKA,0BACA;2BACA;AACA;AACA;;AACA;;2BACA;qFACA;AACA;kBACA;sBACA;;sCACA;gCACA;0DACA;+BACA,gFAEA;AACA;AACA;;AAQA;;;;;;;;wCACA;+CACA;qFACA;AACA;kCACA;AAEA;AA3EA;AAjEA,G;;;;;;;;ACtEA;AAAA;AACA,yBAAqT;AACrT;AACA;AACA;AACA;AACA;AACgP;AAChP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA,yC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0DA;;;;;;;;;;;;;AAEA;;AAEA;QAEA;wBACA;;cAEA;wBACA;wBACA;uBAEA;AALA;AAMA;;;oEAEA;kBACA;AACA;0CACA;AACA,kBACA,mCACA,qBAEA;AACA;sCACA;+BACA;eACA;AACA;wCACA;eACA;AACA;2BACA;eACA;AACA;4BACA;eACA;AACA;8BACA;eACA;AACA;0CACA;eACA;AACA;oCACA;eACA;AACA;aACA;AACA;gEACA;wCACA;AACA;4CACA;wCACA;AACA;wDACA;wCACA;AACA;8CACA;AACA,wCACA,6CAEA;AACA;sCACA;wCACA;AACA;wDACA;wCACA;AACA;wCACA;wCACA;AAEA;AA3DA;;;AA6DA;;6BACA;sDACA;8BACA,4CACA;gDACA;AACA;SACA;AACA;sCACA;iCACA;2BACA;AACA;AACA;;AACA;;6BACA;qDACA;+BACA;AACA;;;;;6DACA;8DACA;AACA;SACA;AACA;8CACA;gCACA;gCACA;2BACA;AACA;AAEA;AA/BA;AAtEA,G;;;;;;;AC/DA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA,iBAAiB;AACjB,kE;;;;;;;ACpDA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,2EAA2E,aAAa;AACxF;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,oBAAoB,aAAa;AACjC;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,oBAAoB,uBAAuB;AAC3C;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,iBAAiB;AACjB,kE;;;;;;;AC/FA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,iBAAiB;AACjB,kE;;;;;;;;;;ACxBA;AAAA;;;;;;;;;;;;;AAaA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yDAAe;AACb;AACAuB,UAAS,iBAAyB,aAFrB;AAGbC,SAAO,6DAHM;AAIbC,WAAA,+DAJa;AAKbC,aAAA,iEALa;AAMbC,WAAA,+DAAAA;AANa,CAAf,E;;;;;;;;;;;;;;ACtBA;;;;;;;;;;;;;AAaA;;;AAGA;;AAEA,yDAAe;AACbC,WAAU,KAAD,GACP,OADO,GACuB,OAFnB;AAGbzH,OAAK;AACH0H,kBAAc,WADX;AAEHC,iBAAa,EAFV;AAGHC,oBAAgB,KAHb;AAIHC,kBAAc,KAJX;AAKHC,qBAAiB,EALd;AAMHC,gBAAY,EANT;AAOHC,aAAS,EAPN;AAQHC,kBAAc,IARX;AASH5H,uBACE,uDAAAoE,CAAOzE,GAAP,IACA,uDAAAyE,CAAOzE,GAAP,CAAWK,iBADX,IAEA,qEAAO,uDAAAoE,CAAOzE,GAAP,CAAWK,iBAAlB,MAAwC,QAHvB,6EAIV,uDAAAoE,CAAOzE,GAAP,CAAWK,iBAJD,IAIuB,EAbvC;AAcH6H,kBAAc,EAdX;AAeHC,WAAO;AAfJ,GAHQ;AAoBbC,YAAU,EApBG;AAqBbxH,SAAO;AACLyH,kBAAc,YADT;AAELxH,aACE,uDAAA4D,CAAO7D,KAAP,IACA,uDAAA6D,CAAO7D,KAAP,CAAaC,OADb,IAEA,OAAO,uDAAA4D,CAAO7D,KAAP,CAAaC,OAApB,KAAgC,QAHzB,QAIF,uDAAA4D,CAAO7D,KAAP,CAAaC,OAJX,GAIuB;AAN3B,GArBM;AA6BbyH,YAAU;AACRC,kBAAc,KADN;AAERC,yBAAqB,IAFb;AAGRC,cAAU,KAHF;AAIRb,oBAAgB,KAJR;AAKRc,gBAAY;AALJ,GA7BG;AAoCbC,YAAU;AACRC,yBAAqB,KADb;AAERhB,oBAAgB,KAFR;AAGRiB,gBAAY,KAHJ;AAIRC,gBAAY,IAJJ;AAKRC,yBAAqB,KALb;AAMRC,uBAAoB,uDAAAvE,CAAOhD,QAAR,GAAoB,CAAC,CAAC,uDAAAgD,CAAOhD,QAAP,CAAgBC,MAAtC,GAA+C,IAN1D;AAORuH,iBAAa,KAPL;AAQRC,0BAAsB;AARd,GApCG;;AA+CbC,qBAAmB,KA/CN,EA+Ca;AAC1BC,iBAAe,KAhDF,EAgDS;AACtB3E,UAAA,uDAjDa;;AAmDb4E,YAAU;AACRC,cAAU,SADF,CACa;AADb;AAnDG,CAAf,E;;;;;;AClBA,kBAAkB,yD;;;;;;ACAlB;AACA;AACA;;;;;;;ACFA,kBAAkB,yD;;;;;;ACAlB;AACA;AACA;AACA;AACA;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,sBAAsB,uBAAuB,WAAW,IAAI;AAC5D,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA,KAAK;AACL;AACA,sBAAsB,mCAAmC;AACzD,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,gCAAgC;AAChG;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0DAA0D,kBAAkB;;AAE5E;AACA;AACA;AACA,oBAAoB,uBAAuB;;AAE3C,oDAAoD,6BAA6B;;AAEjF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,0BAA0B,eAAe,EAAE;AAC3C,0BAA0B,gBAAgB;AAC1C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,OAAO,QAAQ,iCAAiC;AACpG,CAAC;AACD;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC1OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD,CAAC;AACD;AACA,qBAAqB;AACrB;AACA,SAAS;AACT,GAAG,EAAE;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACdA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA;;;;;;;ACfA;;;;;;;ACAA;;;;;;;;ACAA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA,E;;;;;;ACvBA,kBAAkB,yD;;;;;;ACAlB;AACA;AACA;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACTA,kBAAkB,yD;;;;;;ACAlB;AACA;AACA;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wB;;;;;;ACnBA,kBAAkB,WAAW,YAAY,QAAQ,qN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","file":"bundle/lex-web-ui.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"), require(\"vuex\"), require(\"aws-sdk/global\"), require(\"aws-sdk/clients/lexruntime\"), require(\"aws-sdk/clients/polly\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"vue\", \"vuex\", \"aws-sdk/global\", \"aws-sdk/clients/lexruntime\", \"aws-sdk/clients/polly\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LexWebUi\"] = factory(require(\"vue\"), require(\"vuex\"), require(\"aws-sdk/global\"), require(\"aws-sdk/clients/lexruntime\"), require(\"aws-sdk/clients/polly\"));\n\telse\n\t\troot[\"LexWebUi\"] = factory(root[\"vue\"], root[\"vuex\"], root[\"aws-sdk/global\"], root[\"aws-sdk/clients/lexruntime\"], root[\"aws-sdk/clients/polly\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_91__, __WEBPACK_EXTERNAL_MODULE_92__, __WEBPACK_EXTERNAL_MODULE_93__, __WEBPACK_EXTERNAL_MODULE_94__, __WEBPACK_EXTERNAL_MODULE_95__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 66);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 24a2906fe86e5bedab79","var core = module.exports = { version: '2.5.0' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_core.js\n// module id = 0\n// module chunks = 0","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks.js\n// module id = 1\n// module chunks = 0","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_global.js\n// module id = 2\n// module chunks = 0","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && key in exports) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_export.js\n// module id = 3\n// module chunks = 0","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dp.js\n// module id = 4\n// module chunks = 0","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_an-object.js\n// module id = 5\n// module chunks = 0","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_descriptors.js\n// module id = 6\n// module chunks = 0","/* globals __VUE_SSR_CONTEXT__ */\n\n// this module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/component-normalizer.js\n// module id = 7\n// module chunks = 0","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_hide.js\n// module id = 8\n// module chunks = 0","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_has.js\n// module id = 9\n// module chunks = 0","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-iobject.js\n// module id = 10\n// module chunks = 0","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_fails.js\n// module id = 11\n// module chunks = 0","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-keys.js\n// module id = 12\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/promise.js\n// module id = 13\n// module chunks = 0","module.exports = {};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iterators.js\n// module id = 14\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/extends.js\n// module id = 15\n// module chunks = 0","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ctx.js\n// module id = 16\n// module chunks = 0","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-object.js\n// module id = 17\n// module chunks = 0","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_property-desc.js\n// module id = 18\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_cof.js\n// module id = 19\n// module chunks = 0","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.string.iterator.js\n// module id = 20\n// module chunks = 0","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_a-function.js\n// module id = 21\n// module chunks = 0","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_uid.js\n// module id = 22\n// module chunks = 0","exports.f = {}.propertyIsEnumerable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-pie.js\n// module id = 23\n// module chunks = 0","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-object.js\n// module id = 24\n// module chunks = 0","module.exports = true;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_library.js\n// module id = 25\n// module chunks = 0","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-to-string-tag.js\n// module id = 26\n// module chunks = 0","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/web.dom.iterable.js\n// module id = 27\n// module chunks = 0","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_dom-create.js\n// module id = 28\n// module chunks = 0","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-primitive.js\n// module id = 29\n// module chunks = 0","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_defined.js\n// module id = 30\n// module chunks = 0","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-length.js\n// module id = 31\n// module chunks = 0","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-integer.js\n// module id = 32\n// module chunks = 0","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_shared-key.js\n// module id = 33\n// module chunks = 0","var global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_shared.js\n// module id = 34\n// module chunks = 0","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_enum-bug-keys.js\n// module id = 35\n// module chunks = 0","exports.f = Object.getOwnPropertySymbols;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gops.js\n// module id = 36\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/classCallCheck.js\n// module id = 37\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/define-property.js\n// module id = 38\n// module chunks = 0","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_classof.js\n// module id = 39\n// module chunks = 0","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator-method.js\n// module id = 40\n// module chunks = 0","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_new-promise-capability.js\n// module id = 41\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/typeof.js\n// module id = 42\n// module chunks = 0","exports.f = require('./_wks');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks-ext.js\n// module id = 43\n// module chunks = 0","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks-define.js\n// module id = 44\n// module chunks = 0","/*\n Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\n Licensed under the Amazon Software License (the \"License\"). You may not use this file\n except in compliance with the License. A copy of the License is located at\n\n http://aws.amazon.com/asl/\n\n or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\n BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\n License for the specific language governing permissions and limitations under the License.\n */\n\n/**\n * Application configuration management.\n * This file contains default config values and merges the environment\n * and URL configs.\n *\n * The environment dependent values are loaded from files\n * with the config.<ENV>.json naming syntax (where <ENV> is a NODE_ENV value\n * such as 'prod' or 'dev') located in the same directory as this file.\n *\n * The URL configuration is parsed from the `config` URL parameter as\n * a JSON object\n *\n * NOTE: To avoid having to manually merge future changes to this file, you\n * probably want to modify default values in the config.<ENV>.js files instead\n * of this one.\n */\n\n/* eslint no-console: [\"error\", { allow: [\"warn\", \"error\"] }] */\n\n// TODO turn this into a class\n\n// get env shortname to require file\nconst envShortName = [\n  'dev',\n  'prod',\n  'test',\n].find(env => process.env.NODE_ENV.startsWith(env));\n\nif (!envShortName) {\n  console.error('unknown environment in config: ', process.env.NODE_ENV);\n}\n\n// eslint-disable-next-line import/no-dynamic-require\nconst configEnvFile = require(`./config.${envShortName}.json`);\n\n// default config used to provide a base structure for\n// environment and dynamic configs\nconst configDefault = {\n  // AWS region\n  region: 'us-east-1',\n\n  cognito: {\n    // Cognito pool id used to obtain credentials\n    // e.g. poolId: 'us-east-1:deadbeef-cac0-babe-abcd-abcdef01234',\n    poolId: '',\n  },\n\n  lex: {\n    // Lex bot name\n    botName: 'WebUiOrderFlowers',\n\n    // Lex bot alias/version\n    botAlias: '$LATEST',\n\n    // instruction message shown in the UI\n    initialText: 'You can ask me for help ordering flowers. ' +\n      'Just type \"order flowers\" or click on the mic and say it.',\n\n    // instructions spoken when mic is clicked\n    initialSpeechInstruction: 'Say \"Order Flowers\" to get started',\n\n    // Lex initial sessionAttributes\n    sessionAttributes: {},\n\n    // controls if the session attributes are reinitialized a\n    // after the bot dialog is done (i.e. fail or fulfilled)\n    reInitSessionAttributesOnRestart: true,\n\n    // TODO move this config fields to converser\n    // allow to interrupt playback of lex responses by talking over playback\n    // XXX experimental\n    enablePlaybackInterrupt: false,\n\n    // microphone volume level (in dB) to cause an interrupt in the bot\n    // playback. Lower (negative) values makes interrupt more likely\n    // may need to adjusted down if using low_latency preset or band pass filter\n    playbackInterruptVolumeThreshold: -60,\n\n    // microphone slow sample level to cause an interrupt in the bot\n    // playback. Lower values makes interrupt more likely\n    // may need to adjusted down if using low_latency preset or band pass filter\n    playbackInterruptLevelThreshold: 0.0075,\n\n    // microphone volume level (in dB) to cause enable interrupt of bot\n    // playback. This is used to prevent interrupts when there's noise\n    // For interrupt to be enabled, the volume level should be lower than this\n    // value. Lower (negative) values makes interrupt more likely\n    // may need to adjusted down if using low_latency preset or band pass filter\n    playbackInterruptNoiseThreshold: -75,\n\n    // only allow to interrupt playback longer than this value (in seconds)\n    playbackInterruptMinDuration: 2,\n  },\n\n  polly: {\n    voiceId: 'Joanna',\n  },\n\n  ui: {\n    // TODO may want to move pageTitle out to LexApp or Page component\n    // title of HTML page added dynamically to index.html\n    pageTitle: 'Order Flowers Bot',\n\n    // when running as an embedded iframe, this will be used as the\n    // be the parent origin used to send/receive messages\n    // NOTE: this is also a security control\n    // this parameter should not be dynamically overriden\n    // avoid making it '*'\n    // if left as an empty string, it will be set to window.location.window\n    // to allow runing embedded in a single origin setup\n    parentOrigin: null,\n\n    // chat window text placeholder\n    textInputPlaceholder: 'Type here or click on the mic',\n\n    toolbarColor: 'red',\n\n    // chat window title\n    toolbarTitle: 'Order Flowers',\n\n    // logo used in toolbar - also used as favicon not specificied\n    toolbarLogo: '',\n\n    // fav icon\n    favIcon: '',\n\n    // controls if the Lex initialText will be pushed into the message\n    // list after the bot dialog is done (i.e. fail or fulfilled)\n    pushInitialTextOnRestart: true,\n\n    // controls if the Lex sessionAttributes should be re-initialized\n    // to the config value (i.e. lex.sessionAttributes)\n    // after the bot dialog is done (i.e. fail or fulfilled)\n    reInitSessionAttributesOnRestart: false,\n\n    // controls whether URLs in bot responses will be converted to links\n    convertUrlToLinksInBotMessages: true,\n\n    // controls whether tags (e.g. SSML or HTML) should be stripped out\n    // of bot messages received from Lex\n    stripTagsFromBotMessages: true,\n  },\n\n  /* Configuration to enable voice and to pass options to the recorder\n   * see ../lib/recorder.js for details about all the available options.\n   * You can override any of the defaults in recorder.js by adding them\n   * to the corresponding JSON config file (config.<ENV>.json)\n   * or alternatively here\n   */\n  recorder: {\n    // if set to true, voice interaction would be enabled on supported browsers\n    // set to false if you don't want voice enabled\n    enable: true,\n\n    // maximum recording time in seconds\n    recordingTimeMax: 10,\n\n    // Minimum recording time in seconds.\n    // Used before evaluating if the line is quiet to allow initial pauses\n    // before speech\n    recordingTimeMin: 2.5,\n\n    // Sound sample threshold to determine if there's silence.\n    // This is measured against a value of a sample over a period of time\n    // If set too high, it may falsely detect quiet recordings\n    // If set too low, it could take long pauses before detecting silence or\n    // not detect it at all.\n    // Reasonable values seem to be between 0.001 and 0.003\n    quietThreshold: 0.002,\n\n    // time before automatically stopping the recording when\n    // there's silence. This is compared to a slow decaying\n    // sample level so its's value is relative to sound over\n    // a period of time. Reasonable times seem to be between 0.2 and 0.5\n    quietTimeMin: 0.3,\n\n    // volume threshold in db to determine if there's silence.\n    // Volume levels lower than this would trigger a silent event\n    // Works in conjuction with `quietThreshold`. Lower (negative) values\n    // cause the silence detection to converge faster\n    // Reasonable values seem to be between -75 and -55\n    volumeThreshold: -65,\n\n    // use automatic mute detection\n    useAutoMuteDetect: false,\n  },\n\n  converser: {\n    // used to control maximum number of consecutive silent recordings\n    // before the conversation is ended\n    silentConsecutiveRecordingMax: 3,\n  },\n\n  // URL query parameters are put in here at run time\n  urlQueryParams: {},\n};\n\n/**\n * Obtains the URL query params and returns it as an object\n * This can be used before the router has been setup\n */\nfunction getUrlQueryParams(url) {\n  try {\n    return url\n      .split('?', 2) // split query string up to a max of 2 elems\n      .slice(1, 2) // grab what's after the '?' char\n      // split params separated by '&'\n      .reduce((params, queryString) => queryString.split('&'), [])\n      // further split into key value pairs separated by '='\n      .map(params => params.split('='))\n      // turn into an object representing the URL query key/vals\n      .reduce((queryObj, param) => {\n        const [key, value = true] = param;\n        const paramObj = {\n          [key]: decodeURIComponent(value),\n        };\n        return { ...queryObj, ...paramObj };\n      }, {});\n  } catch (e) {\n    console.error('error obtaining URL query parameters', e);\n    return {};\n  }\n}\n\n/**\n * Obtains and parses the config URL parameter\n */\nfunction getConfigFromQuery(query) {\n  try {\n    return (query.lexWebUiConfig) ? JSON.parse(query.lexWebUiConfig) : {};\n  } catch (e) {\n    console.error('error parsing config from URL query', e);\n    return {};\n  }\n}\n\n/**\n * Merge two configuration objects\n * The merge process takes the base config as the source for keys to be merged.\n * The values in srcConfig take precedence in the merge.\n *\n * If deep is set to false (default), a shallow merge is done down to the\n * second level of the object. Object values under the second level fully\n * overwrite the base. For example, srcConfig.lex.sessionAttributes overwrite\n * the base as an object.\n *\n * If deep is set to true, the merge is done recursively in both directions.\n */\nexport function mergeConfig(baseConfig, srcConfig, deep = false) {\n  function mergeValue(base, src, key, shouldMergeDeep) {\n    // nothing to merge as the base key is not found in the src\n    if (!(key in src)) {\n      return base[key];\n    }\n\n    // deep merge in both directions using recursion\n    if (shouldMergeDeep && typeof base[key] === 'object') {\n      return {\n        ...mergeConfig(src[key], base[key], shouldMergeDeep),\n        ...mergeConfig(base[key], src[key], shouldMergeDeep),\n      };\n    }\n\n    // shallow merge key/values\n    // overriding the base values with the ones from the source\n    return (typeof base[key] === 'object') ?\n      { ...base[key], ...src[key] } :\n      src[key];\n  }\n\n  // use the baseConfig first level keys as the base for merging\n  return Object.keys(baseConfig)\n    .map((key) => {\n      const value = mergeValue(baseConfig, srcConfig, key, deep);\n      return { [key]: value };\n    })\n    // merge key values back into a single object\n    .reduce((merged, configItem) => ({ ...merged, ...configItem }), {});\n}\n\n// merge build time parameters\nconst configFromFiles = mergeConfig(configDefault, configEnvFile);\n\n// TODO move query config to a store action\n// run time config from url query parameter\nconst queryParams = getUrlQueryParams(window.location.href);\nconst configFromQuery = getConfigFromQuery(queryParams);\n// security: delete origin from dynamic parameter\nif (configFromQuery.ui && configFromQuery.ui.parentOrigin) {\n  delete configFromQuery.ui.parentOrigin;\n}\n\nconst configFromMerge = mergeConfig(configFromFiles, configFromQuery);\n\nexport const config = {\n  ...configFromMerge,\n  urlQueryParams: queryParams,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/index.js","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/assign.js\n// module id = 46\n// module chunks = 0","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ie8-dom-define.js\n// module id = 47\n// module chunks = 0","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-keys-internal.js\n// module id = 48\n// module chunks = 0","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iobject.js\n// module id = 49\n// module chunks = 0","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-define.js\n// module id = 51\n// module chunks = 0","module.exports = require('./_hide');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_redefine.js\n// module id = 52\n// module chunks = 0","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-create.js\n// module id = 53\n// module chunks = 0","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_html.js\n// module id = 54\n// module chunks = 0","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-call.js\n// module id = 55\n// module chunks = 0","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-array-iter.js\n// module id = 56\n// module chunks = 0","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_species-constructor.js\n// module id = 57\n// module chunks = 0","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_task.js\n// module id = 58\n// module chunks = 0","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_perform.js\n// module id = 59\n// module chunks = 0","var newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_promise-resolve.js\n// module id = 60\n// module chunks = 0","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-detect.js\n// module id = 61\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/keys.js\n// module id = 62\n// module chunks = 0","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopn.js\n// module id = 63\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/slicedToArray.js\n// module id = 64\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/createClass.js\n// module id = 65\n// module chunks = 0","/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\n\n/* eslint no-console: [\"error\", { allow: [\"warn\", \"error\"] }] */\n\n/**\n * Entry point to the lex-web-ui Vue plugin\n * Exports Loader as the plugin constructor\n * and Store as store that can be used with Vuex.Store()\n */\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport { Config as AWSConfig, CognitoIdentityCredentials }\n  from 'aws-sdk/global';\nimport LexRuntime from 'aws-sdk/clients/lexruntime';\nimport Polly from 'aws-sdk/clients/polly';\n\nimport LexWeb from '@/components/LexWeb';\nimport VuexStore from '@/store';\n\nimport { config as defaultConfig, mergeConfig } from '@/config';\n\n/**\n * Vue Component\n */\nconst Component = {\n  name: 'lex-web-ui',\n  template: '<lex-web></lex-web>',\n  components: { LexWeb },\n};\n\nconst loadingComponent = {\n  template: '<p>Loading. Please wait...</p>',\n};\nconst errorComponent = {\n  template: '<p>An error ocurred...</p>',\n};\n\n/**\n * Vue Asynchonous Component\n */\nconst AsyncComponent = ({\n  component = Promise.resolve(Component),\n  loading = loadingComponent,\n  error = errorComponent,\n  delay = 200,\n  timeout = 10000,\n}) => ({\n  // must be a promise\n  component,\n  // A component to use while the async component is loading\n  loading,\n  // A component to use if the load fails\n  error,\n  // Delay before showing the loading component. Default: 200ms.\n  delay,\n  // The error component will be displayed if a timeout is\n  // provided and exceeded. Default: 10000ms.\n  timeout,\n});\n\n/**\n * Vue Plugin\n */\nexport const Plugin = {\n  install(VueConstructor, {\n    name = '$lexWebUi',\n    componentName = 'lex-web-ui',\n    awsConfig,\n    lexRuntimeClient,\n    pollyClient,\n    component = AsyncComponent,\n    config = defaultConfig,\n  }) {\n    if (name in VueConstructor) {\n      console.warn('plugin should only be used once');\n    }\n    // values to be added to custom vue property\n    const value = {\n      config,\n      awsConfig,\n      lexRuntimeClient,\n      pollyClient,\n    };\n    // add custom property to Vue\n    // for example, access this in a component via this.$lexWebUi\n    Object.defineProperty(VueConstructor.prototype, name, { value });\n    // register as a global component\n    VueConstructor.component(componentName, component);\n  },\n};\n\nexport const Store = VuexStore;\n\n/**\n * Main Class\n */\nexport class Loader {\n  constructor(config = {}) {\n    const mergedConfig = mergeConfig(defaultConfig, config);\n\n    const VueConstructor = (window.Vue) ? window.Vue : Vue;\n    if (!VueConstructor) {\n      throw new Error('unable to find Vue');\n    }\n\n    const VuexConstructor = (window.Vuex) ? window.Vuex : Vuex;\n    if (!VuexConstructor) {\n      throw new Error('unable to find Vuex');\n    }\n\n    const AWSConfigConstructor = (window.AWS && window.AWS.Config) ?\n      window.AWS.Config :\n      AWSConfig;\n\n    const CognitoConstructor =\n      (window.AWS && window.AWS.CognitoIdentityCredentials) ?\n        window.AWS.CognitoIdentityCredentials :\n        CognitoIdentityCredentials;\n\n    const PollyConstructor = (window.AWS && window.AWS.Polly) ?\n      window.AWS.Polly :\n      Polly;\n\n    const LexRuntimeConstructor = (window.AWS && window.AWS.LexRuntime) ?\n      window.AWS.LexRuntime :\n      LexRuntime;\n\n    if (!AWSConfigConstructor || !CognitoConstructor || !PollyConstructor\n        || !LexRuntimeConstructor) {\n      throw new Error('unable to find AWS SDK');\n    }\n\n    const credentials = new CognitoConstructor(\n      { IdentityPoolId: mergedConfig.cognito.poolId },\n      { region: mergedConfig.region || 'us-east-1' },\n    );\n\n    const awsConfig = new AWSConfigConstructor({\n      region: mergedConfig.region || 'us-east-1',\n      credentials,\n    });\n\n    const lexRuntimeClient = new LexRuntimeConstructor(awsConfig);\n    const pollyClient = (\n      typeof mergedConfig.recorder === 'undefined' ||\n      (mergedConfig.recorder && mergedConfig.recorder.enable !== false)\n    ) ? new PollyConstructor(awsConfig) : null;\n\n    // TODO name space store\n    this.store = new VuexConstructor.Store({ ...VuexStore });\n\n    VueConstructor.use(Plugin, {\n      config: mergedConfig,\n      awsConfig,\n      lexRuntimeClient,\n      pollyClient,\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lex-web-ui.js","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/assign.js\n// module id = 67\n// module chunks = 0","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.assign.js\n// module id = 68\n// module chunks = 0","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-assign.js\n// module id = 69\n// module chunks = 0","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_array-includes.js\n// module id = 70\n// module chunks = 0","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-absolute-index.js\n// module id = 71\n// module chunks = 0","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/define-property.js\n// module id = 72\n// module chunks = 0","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.define-property.js\n// module id = 73\n// module chunks = 0","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/promise.js\n// module id = 74\n// module chunks = 0","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_string-at.js\n// module id = 75\n// module chunks = 0","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-create.js\n// module id = 76\n// module chunks = 0","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dps.js\n// module id = 77\n// module chunks = 0","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gpo.js\n// module id = 78\n// module chunks = 0","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.array.iterator.js\n// module id = 79\n// module chunks = 0","module.exports = function () { /* empty */ };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_add-to-unscopables.js\n// module id = 80\n// module chunks = 0","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-step.js\n// module id = 81\n// module chunks = 0","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar sameConstructor = LIBRARY ? function (a, b) {\n  // with library wrapper special case\n  return a === b || a === $Promise && b === Wrapper;\n} : function (a, b) {\n  return a === b;\n};\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value);\n            if (domain) domain.exit();\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  if (promise._h == 1) return false;\n  var chain = promise._a || promise._c;\n  var i = 0;\n  var reaction;\n  while (chain.length > i) {\n    reaction = chain[i++];\n    if (reaction.fail || !isUnhandled(reaction.promise)) return false;\n  } return true;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return sameConstructor($Promise, C)\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if (x instanceof $Promise && sameConstructor(x.constructor, this)) return x;\n    return promiseResolve(this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.promise.js\n// module id = 82\n// module chunks = 0","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_an-instance.js\n// module id = 83\n// module chunks = 0","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_for-of.js\n// module id = 84\n// module chunks = 0","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_invoke.js\n// module id = 85\n// module chunks = 0","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if (Observer) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_microtask.js\n// module id = 86\n// module chunks = 0","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_redefine-all.js\n// module id = 87\n// module chunks = 0","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-species.js\n// module id = 88\n// module chunks = 0","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.promise.finally.js\n// module id = 89\n// module chunks = 0","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.promise.try.js\n// module id = 90\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_91__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vue\"\n// module id = 91\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_92__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vuex\"\n// module id = 92\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_93__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"aws-sdk/global\"\n// module id = 93\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_94__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"aws-sdk/clients/lexruntime\"\n// module id = 94\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_95__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"aws-sdk/clients/polly\"\n// module id = 95\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4973da9d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LexWeb.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LexWeb.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4973da9d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LexWeb.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LexWeb.vue\n// module id = 96\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4973da9d\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/LexWeb.vue\n// module id = 97\n// module chunks = 0","<template>\n  <v-app id=\"lex-web\"\n  >\n    <toolbar-container\n      v-bind:toolbar-title=\"toolbarTitle\"\n      v-bind:toolbar-color=\"toolbarColor\"\n      v-bind:toolbar-logo=\"toolbarLogo\"\n      v-bind:is-ui-minimized=\"isUiMinimized\"\n      v-on:toggleMinimizeUi=\"toggleMinimizeUi\"\n    ></toolbar-container>\n\n    <message-list\n      v-if=\"!isUiMinimized\"\n    ></message-list>\n\n    <input-container\n      v-if=\"!isUiMinimized\"\n      v-bind:text-input-placeholder=\"textInputPlaceholder\"\n      v-bind:initial-speech-instruction=\"initialSpeechInstruction\"\n    ></input-container>\n  </v-app>\n</template>\n\n<script>\n/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\n\n/* eslint no-console: [\"error\", { allow: [\"warn\", \"error\", \"info\"] }] */\nimport ToolbarContainer from '@/components/ToolbarContainer';\nimport MessageList from '@/components/MessageList';\nimport InputContainer from '@/components/InputContainer';\n\nexport default {\n  name: 'lex-web',\n  components: {\n    ToolbarContainer,\n    MessageList,\n    InputContainer,\n  },\n  computed: {\n    initialSpeechInstruction() {\n      return this.$store.state.config.lex.initialSpeechInstruction;\n    },\n    textInputPlaceholder() {\n      return this.$store.state.config.ui.textInputPlaceholder;\n    },\n    toolbarColor() {\n      return this.$store.state.config.ui.toolbarColor;\n    },\n    toolbarTitle() {\n      return this.$store.state.config.ui.toolbarTitle;\n    },\n    toolbarLogo() {\n      return this.$store.state.config.ui.toolbarLogo;\n    },\n    isUiMinimized() {\n      return this.$store.state.isUiMinimized;\n    },\n  },\n  beforeMount() {\n    if (this.$store.state.config.urlQueryParams.lexWebUiEmbed !== 'true') {\n      console.info('running in standalone mode');\n      this.$store.commit('setIsRunningEmbedded', false);\n      this.$store.commit('setAwsCredsProvider', 'cognito');\n    } else {\n      // running embedded\n      console.info('running in embedded mode from URL: ',\n        document.location.href,\n      );\n      console.info('referrer (possible parent) URL: ', document.referrer);\n      console.info('config parentOrigin:',\n        this.$store.state.config.ui.parentOrigin,\n      );\n      if (!document.referrer\n        .startsWith(this.$store.state.config.ui.parentOrigin)\n      ) {\n        console.warn(\n          'referrer origin: [%s] does not match configured parent origin: [%s]',\n          document.referrer, this.$store.state.config.ui.parentOrigin,\n        );\n      }\n\n      window.addEventListener('message', this.messageHandler, false);\n      this.$store.commit('setIsRunningEmbedded', true);\n      this.$store.commit('setAwsCredsProvider', 'parentWindow');\n    }\n  },\n  mounted() {\n    this.$store.dispatch('initConfig', this.$lexWebUi.config)\n      .then(() => this.$store.dispatch('getConfigFromParent'))\n      .then(config => (\n        // avoid merging an empty config\n        (Object.keys(config).length) ?\n          this.$store.dispatch('initConfig', config) :\n          Promise.resolve()\n      ))\n      .then(() =>\n        Promise.all([\n          this.$store.dispatch('initCredentials',\n            this.$lexWebUi.awsConfig.credentials,\n          ),\n          this.$store.dispatch('initRecorder'),\n          this.$store.dispatch('initBotAudio', (window.Audio) ? new Audio() : null),\n        ]),\n      )\n      .then(() =>\n        Promise.all([\n          this.$store.dispatch('initMessageList'),\n          this.$store.dispatch('initPollyClient', this.$lexWebUi.pollyClient),\n          this.$store.dispatch('initLexClient',\n            this.$lexWebUi.lexRuntimeClient,\n          ),\n        ]),\n      )\n      .then(() => (\n        (this.$store.state.isRunningEmbedded) ?\n          this.$store.dispatch('sendMessageToParentWindow',\n            { event: 'ready' },\n          ) :\n          Promise.resolve()\n      ))\n      .then(() =>\n        console.info('sucessfully initialized lex web ui version: ',\n          this.$store.state.version,\n        ),\n      )\n      .catch((error) => {\n        console.error('could not initialize application while mounting:',\n          error,\n        );\n      });\n  },\n  methods: {\n    toggleMinimizeUi() {\n      return this.$store.dispatch('toggleIsUiMinimized');\n    },\n    // messages from parent\n    messageHandler(evt) {\n      // security check\n      if (evt.origin !== this.$store.state.config.ui.parentOrigin) {\n        console.warn('ignoring event - invalid origin:', evt.origin);\n        return;\n      }\n      if (!evt.ports) {\n        console.warn('postMessage not sent over MessageChannel', evt);\n        return;\n      }\n      switch (evt.data.event) {\n        case 'ping':\n          console.info('pong - ping received from parent');\n          evt.ports[0].postMessage({\n            event: 'resolve',\n            type: evt.data.event,\n          });\n          break;\n        // received when the parent page has loaded the iframe\n        case 'parentReady':\n          evt.ports[0].postMessage({ event: 'resolve', type: evt.data.event });\n          break;\n        case 'toggleMinimizeUi':\n          this.$store.dispatch('toggleIsUiMinimized')\n            .then(() => {\n              evt.ports[0].postMessage(\n                { event: 'resolve', type: evt.data.event },\n              );\n            });\n          break;\n        case 'postText':\n          if (!evt.data.message) {\n            evt.ports[0].postMessage({\n              event: 'reject',\n              type: evt.data.event,\n              error: 'missing message field',\n            });\n            return;\n          }\n\n          this.$store.dispatch('postTextMessage',\n            { type: 'human', text: evt.data.message },\n          )\n            .then(() => {\n              evt.ports[0].postMessage(\n                { event: 'resolve', type: evt.data.event },\n              );\n            });\n          break;\n        default:\n          console.warn('unknown message in messageHanlder', evt);\n          break;\n      }\n    },\n  },\n};\n</script>\n\n<style>\n#lex-web {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n.application {\n  /* substract the input bar height as a workaround on mobile\n   */\n  min-height: calc(100vh - 68px);\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/LexWeb.vue?1512b043","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/keys.js\n// module id = 99\n// module chunks = 0","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.keys.js\n// module id = 100\n// module chunks = 0","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-sap.js\n// module id = 101\n// module chunks = 0","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ToolbarContainer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-59f58ea4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ToolbarContainer.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ToolbarContainer.vue\n// module id = 102\n// module chunks = 0","<template>\n  <v-toolbar v-bind:class=\"toolbarColor\" dark dense>\n    <img v-bind:src=\"toolbarLogo\">\n    <v-toolbar-title class=\"hidden-xs-and-down\">\n      {{ toolbarTitle }}\n    </v-toolbar-title>\n    <v-spacer />\n    <v-btn\n      v-tooltip:left=\"toolTipMinimize\"\n      v-on:click.native=\"toggleMinimize\"\n      v-if=\"$store.state.isRunningEmbedded\"\n      icon\n      light\n    >\n      <v-icon>\n        {{ isUiMinimized ?  'arrow_drop_up' : 'arrow_drop_down' }}\n      </v-icon>\n    </v-btn>\n  </v-toolbar>\n</template>\n\n<script>\n/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\nexport default {\n  name: 'toolbar-container',\n  props: ['toolbarTitle', 'toolbarColor', 'toolbarLogo', 'isUiMinimized'],\n  computed: {\n    toolTipMinimize() {\n      return {\n        html: (this.isUiMinimized) ? 'maximize' : 'minimize',\n      };\n    },\n  },\n  methods: {\n    toggleMinimize() {\n      this.$emit('toggleMinimizeUi');\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ToolbarContainer.vue?30b3555a","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-toolbar', {\n    class: _vm.toolbarColor,\n    attrs: {\n      \"dark\": \"\",\n      \"dense\": \"\"\n    }\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.toolbarLogo\n    }\n  }), _vm._v(\" \"), _c('v-toolbar-title', {\n    staticClass: \"hidden-xs-and-down\"\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.toolbarTitle) + \"\\n  \")]), _vm._v(\" \"), _c('v-spacer'), _vm._v(\" \"), (_vm.$store.state.isRunningEmbedded) ? _c('v-btn', {\n    directives: [{\n      name: \"tooltip\",\n      rawName: \"v-tooltip:left\",\n      value: (_vm.toolTipMinimize),\n      expression: \"toolTipMinimize\",\n      arg: \"left\"\n    }],\n    attrs: {\n      \"icon\": \"\",\n      \"light\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.toggleMinimize($event)\n      }\n    }\n  }, [_c('v-icon', [_vm._v(\"\\n      \" + _vm._s(_vm.isUiMinimized ? 'arrow_drop_up' : 'arrow_drop_down') + \"\\n    \")])], 1) : _vm._e()], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-59f58ea4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ToolbarContainer.vue\n// module id = 104\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-20b8f18d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MessageList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MessageList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-20b8f18d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MessageList.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-20b8f18d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MessageList.vue\n// module id = 105\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-20b8f18d\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/MessageList.vue\n// module id = 106\n// module chunks = 0","<template>\n  <v-layout\n    column\n    class=\"message-list ma-0 pt-1\"\n  >\n    <message\n      v-for=\"message in messages\"\n      v-bind:message=\"message\"\n      v-bind:key=\"message.id\"\n      v-bind:class=\"`message-${message.type}`\"\n    ></message>\n  </v-layout>\n</template>\n\n<script>\n/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\nimport Message from './Message';\n\nexport default {\n  name: 'message-list',\n  components: {\n    Message,\n  },\n  computed: {\n    messages() {\n      return this.$store.state.messages;\n    },\n  },\n  watch: {\n    // autoscroll message list to the bottom when messages change\n    messages() {\n      this.$nextTick(() => {\n        this.$el.scrollTop = this.$el.scrollHeight;\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.message-list {\n  display: flex;\n  flex: 1;\n  overflow-y: auto;\n}\n\n.message-bot {\n  align-self: flex-start;\n}\n\n.message-human {\n  align-self: flex-end;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MessageList.vue?57d4f7ea","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-290c8f4f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Message.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Message.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-290c8f4f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Message.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-290c8f4f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Message.vue\n// module id = 108\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-290c8f4f\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Message.vue\n// module id = 109\n// module chunks = 0","<template>\n  <v-flex class=\"message\">\n    <v-chip>\n      <message-text\n        v-bind:message=\"message\"\n        v-if=\"'text' in message && message.text !== null && message.text.length\"\n      ></message-text>\n      <div v-if=\"message.type === 'human' && message.audio\">\n        <audio>\n          <source v-bind:src=\"message.audio\" type=\"audio/wav\">\n        </audio>\n        <v-btn left icon class=\"black--text\" v-on:click.native=\"playAudio\">\n          <v-icon class=\"play-button\">play_circle_outline</v-icon>\n        </v-btn>\n      </div>\n      <v-icon\n        medium\n        v-if=\"message.type === 'bot' && botDialogState\"\n        v-bind:class=\"botDialogState.color + '--text'\"\n      >\n        {{botDialogState.icon}}\n      </v-icon>\n    </v-chip>\n    <div class=\"response-card\" v-if=\"shouldDisplayResponseCard\">\n      <response-card\n        v-for=\"(card, index) in message.responseCard.genericAttachments\"\n        v-bind:response-card=\"card\"\n        v-bind:key=\"index\"\n      >\n      </response-card>\n    </div>\n  </v-flex>\n</template>\n\n<script>\n/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\nimport MessageText from './MessageText';\nimport ResponseCard from './ResponseCard';\n\nexport default {\n  name: 'message',\n  props: ['message'],\n  components: {\n    MessageText,\n    ResponseCard,\n  },\n  computed: {\n    botDialogState() {\n      if (!('dialogState' in this.message)) {\n        return null;\n      }\n      switch (this.message.dialogState) {\n        case 'Failed':\n          return { icon: 'error', color: 'red' };\n        case 'Fulfilled':\n        case 'ReadyForFulfillment':\n          return { icon: 'done', color: 'green' };\n        default :\n          return null;\n      }\n    },\n    shouldDisplayResponseCard() {\n      return (\n        this.message.responseCard &&\n        (this.message.responseCard.version === '1' ||\n         this.message.responseCard.version === 1) &&\n        this.message.responseCard.contentType === 'application/vnd.amazonaws.card.generic' &&\n        'genericAttachments' in this.message.responseCard &&\n        this.message.responseCard.genericAttachments instanceof Array\n      );\n    },\n  },\n  methods: {\n    playAudio() {\n      // XXX doesn't play in Firefox or Edge\n      /* XXX also tried:\n      const audio = new Audio(this.message.audio);\n      audio.play();\n      */\n      const audioElem = this.$el.querySelector('audio');\n      if (audioElem) {\n        audioElem.play();\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.message {\n  max-width: 66vw;\n}\n\n.audio-label {\n  padding-left: 0.8em;\n}\n\n.message-bot .chip {\n  background-color: #FFEBEE; /* red-50 from material palette */\n}\n\n.message-human .chip {\n  background-color: #E8EAF6; /* indigo-50 from material palette */\n}\n\n.chip {\n  height: auto;\n  margin: 5px;\n  font-size: calc(1em + 0.25vmin);\n}\n\n.play-button {\n  font-size: 2em;\n}\n\n.response-card {\n  display: flex;\n  justify-content: center;\n  margin: 0.8em;\n  width: 90vw;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Message.vue?f896bfda","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d69cb2c8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MessageText.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MessageText.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d69cb2c8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MessageText.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d69cb2c8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MessageText.vue\n// module id = 111\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-d69cb2c8\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/MessageText.vue\n// module id = 112\n// module chunks = 0","<template>\n  <div\n    v-if=\"message.text && message.type === 'human'\"\n    class=\"message-text\"\n  >\n    {{ message.text }}\n  </div>\n  <div\n    v-html=\"botMessageAsHtml\"\n    v-else-if=\"message.text && shouldRenderAsHtml\"\n    class=\"message-text\"\n  ></div>\n  <div\n    v-else-if=\"message.text && message.type === 'bot'\"\n    class=\"message-text\"\n  >\n    {{ (shouldStripTags) ? stripTagsFromMessage(message.text) : message.text }}\n  </div>\n</template>\n\n<script>\n/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\nexport default {\n  name: 'message-text',\n  props: ['message'],\n  computed: {\n    shouldConvertUrlToLinks() {\n      return this.$store.state.config.ui.convertUrlToLinksInBotMessages;\n    },\n    shouldStripTags() {\n      return this.$store.state.config.ui.stripTagsFromBotMessages;\n    },\n    shouldRenderAsHtml() {\n      return (this.message.type === 'bot' && this.shouldConvertUrlToLinks);\n    },\n    botMessageAsHtml() {\n      // Security Note: Make sure that the content is escaped according\n      // to context (e.g. URL, HTML). This is rendered as HTML\n      const messageText = this.stripTagsFromMessage(this.message.text);\n      const messageWithLinks = this.botMessageWithLinks(messageText);\n      return messageWithLinks;\n    },\n  },\n  methods: {\n    encodeAsHtml(value) {\n      return value\n        .replace(/&/g, '&amp;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#39;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;');\n    },\n    botMessageWithLinks(messageText) {\n      const linkReplacers = [\n        // The regex in the objects of linkReplacers should return a single\n        // reference (from parenthesis) with the whole address\n        // The replace function takes a matched url and returns the\n        // hyperlink that will be replaced in the message\n        {\n          type: 'web',\n          regex: new RegExp(\n            '\\\\b((?:https?://\\\\w{1}|www\\\\.)(?:[\\\\w-.]){2,256}' +\n            '(?:[\\\\w._~:/?#@!$&()*+,;=[\\'\\\\]-]){0,256})',\n            'im',\n          ),\n          replace: (item) => {\n            const url = (!/^https?:\\/\\//.test(item)) ? `http://${item}` : item;\n            return '<a target=\"_blank\" ' +\n              `href=\"${encodeURI(url)}\">${this.encodeAsHtml(item)}</a>`;\n          },\n        },\n      ];\n      // TODO avoid double HTML encoding when there's more than 1 linkReplacer\n      return linkReplacers\n        .reduce((message, replacer) =>\n          // splits the message into an array containing content chunks and links.\n          // Content chunks will be the even indexed items in the array\n          // (or empty string when applicable).\n          // Links (if any) will be the odd members of the array since the\n          // regex keeps references.\n          message.split(replacer.regex)\n            .reduce((messageAccum, item, index, array) => {\n              let messageResult = '';\n              if ((index % 2) === 0) {\n                const urlItem = ((index + 1) === array.length) ?\n                  '' : replacer.replace(array[index + 1]);\n                messageResult = `${this.encodeAsHtml(item)}${urlItem}`;\n              }\n              return messageAccum + messageResult;\n            }, '')\n          , messageText);\n    },\n    // used for stripping SSML (and other) tags from bot responses\n    stripTagsFromMessage(messageText) {\n      const doc = document.implementation.createHTMLDocument('').body;\n      doc.innerHTML = messageText;\n      return doc.textContent || doc.innerText || '';\n    },\n  },\n};\n</script>\n\n<style scoped>\n.message-text {\n  white-space: normal;\n  padding: 0.8em;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MessageText.vue?391abc04","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (_vm.message.text && _vm.message.type === 'human') ? _c('div', {\n    staticClass: \"message-text\"\n  }, [_vm._v(\"\\n  \" + _vm._s(_vm.message.text) + \"\\n\")]) : (_vm.message.text && _vm.shouldRenderAsHtml) ? _c('div', {\n    staticClass: \"message-text\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.botMessageAsHtml)\n    }\n  }) : (_vm.message.text && _vm.message.type === 'bot') ? _c('div', {\n    staticClass: \"message-text\"\n  }, [_vm._v(\"\\n  \" + _vm._s((_vm.shouldStripTags) ? _vm.stripTagsFromMessage(_vm.message.text) : _vm.message.text) + \"\\n\")]) : _vm._e()\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d69cb2c8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MessageText.vue\n// module id = 114\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-799b9a4e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ResponseCard.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ResponseCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-799b9a4e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ResponseCard.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-799b9a4e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ResponseCard.vue\n// module id = 115\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-799b9a4e\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/ResponseCard.vue\n// module id = 116\n// module chunks = 0","<template>\n  <v-card>\n    <v-card-title v-if=\"responseCard.title.trim()\" primary-title class=\"red lighten-5\">\n      <span class=\"headline\">{{responseCard.title}}</span>\n    </v-card-title>\n    <v-card-text v-if=\"responseCard.subTitle\">\n      <span>{{responseCard.subTitle}}</span>\n    </v-card-text>\n    <v-card-media\n      v-if=\"responseCard.imageUrl\"\n      v-bind:src=\"responseCard.imageUrl\"\n      contain\n      height=\"33vh\"\n    ></v-card-media>\n    <v-card-actions\n      v-for=\"(button, index) in responseCard.buttons\"\n      v-bind:key=\"index\"\n      actions\n      class=\"button-row\"\n    >\n      <v-btn\n        v-if=\"button.text && button.value\"\n        v-on:click.once.native=\"onButtonClick(button.value)\"\n        v-bind:disabled=\"hasButtonBeenClicked\"\n        default\n      >\n        {{button.text}}\n      </v-btn>\n    </v-card-actions>\n    <v-card-actions v-if=\"responseCard.attachmentLinkUrl\">\n      <v-btn\n        flat\n        class=\"red lighten-5\"\n        tag=\"a\"\n        v-bind:href=\"responseCard.attachmentLinkUrl\"\n        target=\"_blank\"\n      >\n        Open Link\n      </v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\n/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\nexport default {\n  name: 'response-card',\n  props: ['response-card'],\n  data() {\n    return {\n      hasButtonBeenClicked: false,\n    };\n  },\n  computed: {\n  },\n  methods: {\n    onButtonClick(value) {\n      this.hasButtonBeenClicked = true;\n      const message = {\n        type: 'human',\n        text: value,\n      };\n\n      this.$store.dispatch('postTextMessage', message);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.card {\n  width: 75vw;\n  position: inherit; /* workaround to card being displayed on top of toolbar shadow */\n  padding-bottom: 0.5em;\n}\n.card__title {\n  padding: 0.5em;\n  padding-top: 0.75em;\n}\n.card__text {\n  padding: 0.33em;\n}\n.card__actions.button-row {\n  justify-content: center;\n  padding-bottom: 0.15em;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ResponseCard.vue?4f61e4b2","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-card', [(_vm.responseCard.title.trim()) ? _c('v-card-title', {\n    staticClass: \"red lighten-5\",\n    attrs: {\n      \"primary-title\": \"\"\n    }\n  }, [_c('span', {\n    staticClass: \"headline\"\n  }, [_vm._v(_vm._s(_vm.responseCard.title))])]) : _vm._e(), _vm._v(\" \"), (_vm.responseCard.subTitle) ? _c('v-card-text', [_c('span', [_vm._v(_vm._s(_vm.responseCard.subTitle))])]) : _vm._e(), _vm._v(\" \"), (_vm.responseCard.imageUrl) ? _c('v-card-media', {\n    attrs: {\n      \"src\": _vm.responseCard.imageUrl,\n      \"contain\": \"\",\n      \"height\": \"33vh\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.responseCard.buttons), function(button, index) {\n    return _c('v-card-actions', {\n      key: index,\n      staticClass: \"button-row\",\n      attrs: {\n        \"actions\": \"\"\n      }\n    }, [(button.text && button.value) ? _c('v-btn', {\n      attrs: {\n        \"disabled\": _vm.hasButtonBeenClicked,\n        \"default\": \"\"\n      },\n      nativeOn: {\n        \"~click\": function($event) {\n          _vm.onButtonClick(button.value)\n        }\n      }\n    }, [_vm._v(\"\\n      \" + _vm._s(button.text) + \"\\n    \")]) : _vm._e()], 1)\n  }), _vm._v(\" \"), (_vm.responseCard.attachmentLinkUrl) ? _c('v-card-actions', [_c('v-btn', {\n    staticClass: \"red lighten-5\",\n    attrs: {\n      \"flat\": \"\",\n      \"tag\": \"a\",\n      \"href\": _vm.responseCard.attachmentLinkUrl,\n      \"target\": \"_blank\"\n    }\n  }, [_vm._v(\"\\n      Open Link\\n    \")])], 1) : _vm._e()], 2)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-799b9a4e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ResponseCard.vue\n// module id = 118\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-flex', {\n    staticClass: \"message\"\n  }, [_c('v-chip', [('text' in _vm.message && _vm.message.text !== null && _vm.message.text.length) ? _c('message-text', {\n    attrs: {\n      \"message\": _vm.message\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.message.type === 'human' && _vm.message.audio) ? _c('div', [_c('audio', [_c('source', {\n    attrs: {\n      \"src\": _vm.message.audio,\n      \"type\": \"audio/wav\"\n    }\n  })]), _vm._v(\" \"), _c('v-btn', {\n    staticClass: \"black--text\",\n    attrs: {\n      \"left\": \"\",\n      \"icon\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.playAudio($event)\n      }\n    }\n  }, [_c('v-icon', {\n    staticClass: \"play-button\"\n  }, [_vm._v(\"play_circle_outline\")])], 1)], 1) : _vm._e(), _vm._v(\" \"), (_vm.message.type === 'bot' && _vm.botDialogState) ? _c('v-icon', {\n    class: _vm.botDialogState.color + '--text',\n    attrs: {\n      \"medium\": \"\"\n    }\n  }, [_vm._v(\"\\n      \" + _vm._s(_vm.botDialogState.icon) + \"\\n    \")]) : _vm._e()], 1), _vm._v(\" \"), (_vm.shouldDisplayResponseCard) ? _c('div', {\n    staticClass: \"response-card\"\n  }, _vm._l((_vm.message.responseCard.genericAttachments), function(card, index) {\n    return _c('response-card', {\n      key: index,\n      attrs: {\n        \"response-card\": card\n      }\n    })\n  })) : _vm._e()], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-290c8f4f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Message.vue\n// module id = 119\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-layout', {\n    staticClass: \"message-list ma-0 pt-1\",\n    attrs: {\n      \"column\": \"\"\n    }\n  }, _vm._l((_vm.messages), function(message) {\n    return _c('message', {\n      key: message.id,\n      class: (\"message-\" + (message.type)),\n      attrs: {\n        \"message\": message\n      }\n    })\n  }))\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-20b8f18d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MessageList.vue\n// module id = 120\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6dd14e82\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./InputContainer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./InputContainer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6dd14e82\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./InputContainer.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6dd14e82\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/InputContainer.vue\n// module id = 121\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6dd14e82\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/InputContainer.vue\n// module id = 122\n// module chunks = 0","<template>\n  <v-layout\n    row\n    child-flex\n    justify-space-between\n    class=\"input-container\"\n  >\n    <v-toolbar class=\"white\">\n      <!--\n        using v-show instead of v-if to make recorder-status transition work\n      -->\n      <v-text-field\n        v-bind:label=\"textInputPlaceholder\"\n        v-show=\"shouldShowTextInput\"\n        v-model=\"textInput\"\n        v-on:keyup.enter.stop=\"postTextMessage\"\n        v-on:focus=\"onTextFieldFocus\"\n        v-on:blur=\"onTextFieldBlur\"\n        id=\"text-input\"\n        name=\"text-input\"\n        single-line\n        hide-details\n      ></v-text-field>\n\n      <recorder-status\n        v-show=\"!shouldShowTextInput\"\n      ></recorder-status>\n\n      <v-btn\n        v-if=\"shouldShowSendButton\"\n        v-on:click=\"postTextMessage\"\n        v-bind:disabled=\"isSendButtonDisabled\"\n        v-tooltip:left=\"{html: 'send'}\"\n        class=\"black--text mic-button\"\n        icon\n      >\n        <v-icon medium>send</v-icon>\n      </v-btn>\n      <v-btn\n        v-else\n        v-on:click=\"onMicClick\"\n        v-bind:disabled=\"isMicButtonDisabled\"\n        v-tooltip:left=\"{html: micButtonTooltip}\"\n        class=\"black--text mic-button\"\n        icon\n      >\n        <v-icon medium>{{micButtonIcon}}</v-icon>\n      </v-btn>\n    </v-toolbar>\n  </v-layout>\n</template>\n\n<script>\n/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\n/* eslint no-console: [\"error\", { allow: [\"warn\", \"error\"] }] */\n\nimport RecorderStatus from '@/components/RecorderStatus';\n\nexport default {\n  name: 'input-container',\n  data() {\n    return {\n      textInput: '',\n      isTextFieldFocused: false,\n    };\n  },\n  props: ['textInputPlaceholder', 'initialSpeechInstruction'],\n  components: {\n    RecorderStatus,\n  },\n  computed: {\n    isBotSpeaking() {\n      return this.$store.state.botAudio.isSpeaking;\n    },\n    isSpeechConversationGoing() {\n      return this.$store.state.recState.isConversationGoing;\n    },\n    isMicButtonDisabled() {\n      return (\n        this.isMicMuted ||\n        (this.isSpeechConversationGoing && !this.isBotSpeaking)\n      );\n    },\n    isMicMuted() {\n      return this.$store.state.recState.isMicMuted;\n    },\n    isRecorderSupported() {\n      return this.$store.state.recState.isRecorderSupported;\n    },\n    isRecorderEnabled() {\n      return this.$store.state.recState.isRecorderEnabled;\n    },\n    isSendButtonDisabled() {\n      return this.textInput.length < 1;\n    },\n    micButtonIcon() {\n      if (this.isMicMuted) {\n        return 'mic_off';\n      }\n      if (this.isBotSpeaking) {\n        return 'stop';\n      }\n      return 'mic';\n    },\n    micButtonTooltip() {\n      if (this.isMicMuted) {\n        return 'mic seems to be muted';\n      }\n      if (this.isBotSpeaking) {\n        return 'interrupt';\n      }\n      return 'click to use voice';\n    },\n    shouldShowSendButton() {\n      return (\n        (this.textInput.length && this.isTextFieldFocused) ||\n        (!this.isRecorderSupported || !this.isRecorderEnabled)\n      );\n    },\n    shouldShowTextInput() {\n      return !(this.isBotSpeaking || this.isSpeechConversationGoing);\n    },\n  },\n  methods: {\n    onMicClick() {\n      if (!this.isSpeechConversationGoing) {\n        return this.startSpeechConversation();\n      } else if (this.isBotSpeaking) {\n        return this.$store.dispatch('interruptSpeechConversation');\n      }\n\n      return Promise.resolve();\n    },\n    onTextFieldFocus() {\n      this.isTextFieldFocused = true;\n    },\n    onTextFieldBlur() {\n      if (!this.textInput.length && this.isTextFieldFocused) {\n        this.isTextFieldFocused = false;\n      }\n    },\n    playInitialInstruction() {\n      const isInitialState = ['', 'Fulfilled', 'Failed']\n        .some(initialState =>\n          this.$store.state.lex.dialogState === initialState,\n        );\n\n      return (isInitialState) ?\n        this.$store.dispatch('pollySynthesizeSpeech',\n          this.initialSpeechInstruction,\n        ) :\n        Promise.resolve();\n    },\n    postTextMessage() {\n      this.textInput = this.textInput.trim();\n      // empty string\n      if (!this.textInput.length) {\n        return Promise.resolve();\n      }\n\n      const message = {\n        type: 'human',\n        text: this.textInput,\n      };\n\n      return this.$store.dispatch('postTextMessage', message)\n        .then(() => {\n          this.textInput = '';\n        });\n    },\n    startSpeechConversation() {\n      if (this.isMicMuted) {\n        return Promise.resolve();\n      }\n      return this.setAutoPlay()\n        .then(() => this.playInitialInstruction())\n        .then(() => this.$store.dispatch('startConversation'))\n        .catch((error) => {\n          console.error('error in startSpeechConversation', error);\n          this.$store.dispatch('pushErrorMessage',\n            `I couldn't start the conversation. Please try again. (${error})`,\n          );\n        });\n    },\n    /**\n     * Set auto-play attribute on audio element\n     * On mobile, Audio nodes do not autoplay without user interaction.\n     * To workaround that requirement, this plays a short silent audio mp3/ogg\n     * as a reponse to a click. This silent audio is initialized as the src\n     * of the audio node. Subsequent play on the same audio now\n     * don't require interaction so this is only done once.\n     */\n    setAutoPlay() {\n      if (this.$store.state.botAudio.autoPlay) {\n        return Promise.resolve();\n      }\n      return this.$store.dispatch('setAudioAutoPlay');\n    },\n  },\n};\n</script>\n\n<style scoped>\n.input-container {\n  /*\n  Set height to a known value to make offset calculations deterministic\n  Toolbar is 64px. Add 4px to give it a floating look.\n   */\n  height: 68px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/InputContainer.vue?e42e268e","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-285cca90\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RecorderStatus.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RecorderStatus.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-285cca90\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./RecorderStatus.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-285cca90\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RecorderStatus.vue\n// module id = 124\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-285cca90\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/RecorderStatus.vue\n// module id = 125\n// module chunks = 0","<template>\n  <v-flex class=\"recorder-status white\">\n    <div class=\"status-text\">\n      <span>{{statusText}}</span>\n    </div>\n\n    <div\n      class=\"voice-controls ml-2\"\n    >\n      <transition\n        v-on:enter=\"enterMeter\"\n        v-on:leave=\"leaveMeter\"\n        v-bind:css=\"false\"\n      >\n        <div v-if=\"isRecording\" class=\"volume-meter\">\n          <meter\n            v-bind:value=\"volume\"\n            min=\"0.0001\"\n            low=\"0.005\"\n            optimum=\"0.04\"\n            high=\"0.07\"\n            max=\"0.09\"\n          ></meter>\n        </div>\n      </transition>\n\n      <v-progress-linear\n        v-bind:indeterminate=\"true\"\n        v-if=\"isProcessing\"\n        class=\"processing-bar ma-0\"\n      ></v-progress-linear>\n\n      <transition\n        v-on:enter=\"enterAudioPlay\"\n        v-on:leave=\"leaveAudioPlay\"\n        v-bind:css=\"false\"\n      >\n        <v-progress-linear\n          v-if=\"isBotSpeaking\"\n          v-model=\"audioPlayPercent\"\n          class=\"audio-progress-bar ma-0\"\n        ></v-progress-linear>\n      </transition>\n    </div>\n  </v-flex>\n</template>\n<script>\n/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\n\n/* eslint no-console: [\"error\", { allow: [\"warn\", \"error\"] }] */\n\nexport default {\n  name: 'recorder-status',\n  data() {\n    return ({\n      volume: 0,\n      volumeIntervalId: null,\n      audioPlayPercent: 0,\n      audioIntervalId: null,\n    });\n  },\n  computed: {\n    isSpeechConversationGoing() {\n      return this.isConversationGoing;\n    },\n    isProcessing() {\n      return (\n        this.isSpeechConversationGoing &&\n        !this.isRecording &&\n        !this.isBotSpeaking\n      );\n    },\n    statusText() {\n      if (this.isInterrupting) {\n        return 'Interrupting...';\n      }\n      if (this.canInterruptBotPlayback) {\n        return 'Say \"skip\" and I\\'ll listen for your answer...';\n      }\n      if (this.isMicMuted) {\n        return 'Microphone seems to be muted...';\n      }\n      if (this.isRecording) {\n        return 'Listening...';\n      }\n      if (this.isBotSpeaking) {\n        return 'Playing audio...';\n      }\n      if (this.isSpeechConversationGoing) {\n        return 'Processing...';\n      }\n      if (this.isRecorderSupported) {\n        return 'Click on the mic';\n      }\n      return '';\n    },\n    canInterruptBotPlayback() {\n      return this.$store.state.botAudio.canInterrupt;\n    },\n    isBotSpeaking() {\n      return this.$store.state.botAudio.isSpeaking;\n    },\n    isConversationGoing() {\n      return this.$store.state.recState.isConversationGoing;\n    },\n    isInterrupting() {\n      return (\n        this.$store.state.recState.isInterrupting ||\n        this.$store.state.botAudio.isInterrupting\n      );\n    },\n    isMicMuted() {\n      return this.$store.state.recState.isMicMuted;\n    },\n    isRecorderSupported() {\n      return this.$store.state.recState.isRecorderSupported;\n    },\n    isRecording() {\n      return this.$store.state.recState.isRecording;\n    },\n  },\n  methods: {\n    enterMeter() {\n      const intervalTimeInMs = 50;\n      this.volumeIntervalId = setInterval(() => {\n        this.$store.dispatch('getRecorderVolume')\n          .then((volume) => {\n            this.volume = volume.instant.toFixed(4);\n          });\n      }, intervalTimeInMs);\n    },\n    leaveMeter() {\n      if (this.volumeIntervalId) {\n        clearInterval(this.volumeIntervalId);\n      }\n    },\n    enterAudioPlay() {\n      const intervalTimeInMs = 100;\n      this.audioIntervalId = setInterval(() => {\n        this.$store.dispatch('getAudioProperties')\n          .then(({ end = 0, duration = 0 }) => {\n            const percent = (duration <= 0) ? 0 : (end / duration) * 100;\n            this.audioPlayPercent = Math.ceil(percent / 10) * 10;\n          });\n      }, intervalTimeInMs);\n    },\n    leaveAudioPlay() {\n      if (this.audioIntervalId) {\n        this.audioPlayPercent = 0;\n        clearInterval(this.audioIntervalId);\n      }\n    },\n  },\n};\n</script>\n<style scoped>\n.recorder-status {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n}\n\n.status-text {\n  align-self: center;\n  display: flex;\n  text-align: center;\n}\n\n.volume-meter {\n  display: flex;\n}\n\n.volume-meter meter {\n  display: flex;\n  flex: 1;\n  height: 0.75rem;\n}\n\n.processing-bar {\n  height: 0.75rem;\n}\n\n.audio-progress-bar {\n  height: 0.75rem;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/RecorderStatus.vue?33123b2e","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-flex', {\n    staticClass: \"recorder-status white\"\n  }, [_c('div', {\n    staticClass: \"status-text\"\n  }, [_c('span', [_vm._v(_vm._s(_vm.statusText))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"voice-controls ml-2\"\n  }, [_c('transition', {\n    attrs: {\n      \"css\": false\n    },\n    on: {\n      \"enter\": _vm.enterMeter,\n      \"leave\": _vm.leaveMeter\n    }\n  }, [(_vm.isRecording) ? _c('div', {\n    staticClass: \"volume-meter\"\n  }, [_c('meter', {\n    attrs: {\n      \"value\": _vm.volume,\n      \"min\": \"0.0001\",\n      \"low\": \"0.005\",\n      \"optimum\": \"0.04\",\n      \"high\": \"0.07\",\n      \"max\": \"0.09\"\n    }\n  })]) : _vm._e()]), _vm._v(\" \"), (_vm.isProcessing) ? _c('v-progress-linear', {\n    staticClass: \"processing-bar ma-0\",\n    attrs: {\n      \"indeterminate\": true\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('transition', {\n    attrs: {\n      \"css\": false\n    },\n    on: {\n      \"enter\": _vm.enterAudioPlay,\n      \"leave\": _vm.leaveAudioPlay\n    }\n  }, [(_vm.isBotSpeaking) ? _c('v-progress-linear', {\n    staticClass: \"audio-progress-bar ma-0\",\n    model: {\n      value: (_vm.audioPlayPercent),\n      callback: function($$v) {\n        _vm.audioPlayPercent = $$v\n      },\n      expression: \"audioPlayPercent\"\n    }\n  }) : _vm._e()], 1)], 1)])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-285cca90\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/RecorderStatus.vue\n// module id = 127\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-layout', {\n    staticClass: \"input-container\",\n    attrs: {\n      \"row\": \"\",\n      \"child-flex\": \"\",\n      \"justify-space-between\": \"\"\n    }\n  }, [_c('v-toolbar', {\n    staticClass: \"white\"\n  }, [_c('v-text-field', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.shouldShowTextInput),\n      expression: \"shouldShowTextInput\"\n    }],\n    attrs: {\n      \"label\": _vm.textInputPlaceholder,\n      \"id\": \"text-input\",\n      \"name\": \"text-input\",\n      \"single-line\": \"\",\n      \"hide-details\": \"\"\n    },\n    on: {\n      \"keyup\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13)) { return null; }\n        $event.stopPropagation();\n        _vm.postTextMessage($event)\n      },\n      \"focus\": _vm.onTextFieldFocus,\n      \"blur\": _vm.onTextFieldBlur\n    },\n    model: {\n      value: (_vm.textInput),\n      callback: function($$v) {\n        _vm.textInput = $$v\n      },\n      expression: \"textInput\"\n    }\n  }), _vm._v(\" \"), _c('recorder-status', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.shouldShowTextInput),\n      expression: \"!shouldShowTextInput\"\n    }]\n  }), _vm._v(\" \"), (_vm.shouldShowSendButton) ? _c('v-btn', {\n    directives: [{\n      name: \"tooltip\",\n      rawName: \"v-tooltip:left\",\n      value: ({\n        html: 'send'\n      }),\n      expression: \"{html: 'send'}\",\n      arg: \"left\"\n    }],\n    staticClass: \"black--text mic-button\",\n    attrs: {\n      \"disabled\": _vm.isSendButtonDisabled,\n      \"icon\": \"\"\n    },\n    on: {\n      \"click\": _vm.postTextMessage\n    }\n  }, [_c('v-icon', {\n    attrs: {\n      \"medium\": \"\"\n    }\n  }, [_vm._v(\"send\")])], 1) : _c('v-btn', {\n    directives: [{\n      name: \"tooltip\",\n      rawName: \"v-tooltip:left\",\n      value: ({\n        html: _vm.micButtonTooltip\n      }),\n      expression: \"{html: micButtonTooltip}\",\n      arg: \"left\"\n    }],\n    staticClass: \"black--text mic-button\",\n    attrs: {\n      \"disabled\": _vm.isMicButtonDisabled,\n      \"icon\": \"\"\n    },\n    on: {\n      \"click\": _vm.onMicClick\n    }\n  }, [_c('v-icon', {\n    attrs: {\n      \"medium\": \"\"\n    }\n  }, [_vm._v(_vm._s(_vm.micButtonIcon))])], 1)], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6dd14e82\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/InputContainer.vue\n// module id = 128\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-app', {\n    attrs: {\n      \"id\": \"lex-web\"\n    }\n  }, [_c('toolbar-container', {\n    attrs: {\n      \"toolbar-title\": _vm.toolbarTitle,\n      \"toolbar-color\": _vm.toolbarColor,\n      \"toolbar-logo\": _vm.toolbarLogo,\n      \"is-ui-minimized\": _vm.isUiMinimized\n    },\n    on: {\n      \"toggleMinimizeUi\": _vm.toggleMinimizeUi\n    }\n  }), _vm._v(\" \"), (!_vm.isUiMinimized) ? _c('message-list') : _vm._e(), _vm._v(\" \"), (!_vm.isUiMinimized) ? _c('input-container', {\n    attrs: {\n      \"text-input-placeholder\": _vm.textInputPlaceholder,\n      \"initial-speech-instruction\": _vm.initialSpeechInstruction\n    }\n  }) : _vm._e()], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4973da9d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/LexWeb.vue\n// module id = 129\n// module chunks = 0","/*\n Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\n Licensed under the Amazon Software License (the \"License\"). You may not use this file\n except in compliance with the License. A copy of the License is located at\n\n http://aws.amazon.com/asl/\n\n or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\n BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\n License for the specific language governing permissions and limitations under the License.\n */\n\n/* global atob Blob URL */\n/* eslint no-console: [\"error\", { allow: [\"info\", \"warn\", \"error\"] }] */\n/* eslint no-param-reassign: off */\n\nimport initialState from '@/store/state';\nimport getters from '@/store/getters';\nimport mutations from '@/store/mutations';\nimport actions from '@/store/actions';\n\nexport default {\n  // prevent changes outside of mutation handlers\n  strict: (process.env.NODE_ENV === 'development'),\n  state: initialState,\n  getters,\n  mutations,\n  actions,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\n\n/**\n * Sets up the initial state of the store\n */\nimport { config } from '@/config';\n\nexport default {\n  version: (process.env.PACKAGE_VERSION) ?\n    process.env.PACKAGE_VERSION : '0.0.0',\n  lex: {\n    acceptFormat: 'audio/ogg',\n    dialogState: '',\n    isInterrupting: false,\n    isProcessing: false,\n    inputTranscript: '',\n    intentName: '',\n    message: '',\n    responseCard: null,\n    sessionAttributes: (\n      config.lex &&\n      config.lex.sessionAttributes &&\n      typeof config.lex.sessionAttributes === 'object'\n    ) ? { ...config.lex.sessionAttributes } : {},\n    slotToElicit: '',\n    slots: {},\n  },\n  messages: [],\n  polly: {\n    outputFormat: 'ogg_vorbis',\n    voiceId: (\n      config.polly &&\n      config.polly.voiceId &&\n      typeof config.polly.voiceId === 'string'\n    ) ? `${config.polly.voiceId}` : 'Joanna',\n  },\n  botAudio: {\n    canInterrupt: false,\n    interruptIntervalId: null,\n    autoPlay: false,\n    isInterrupting: false,\n    isSpeaking: false,\n  },\n  recState: {\n    isConversationGoing: false,\n    isInterrupting: false,\n    isMicMuted: false,\n    isMicQuiet: true,\n    isRecorderSupported: false,\n    isRecorderEnabled: (config.recorder) ? !!config.recorder.enable : true,\n    isRecording: false,\n    silentRecordingCount: 0,\n  },\n\n  isRunningEmbedded: false, // am I running in an iframe?\n  isUiMinimized: false, // when running embedded, is the iframe minimized?\n  config,\n\n  awsCreds: {\n    provider: 'cognito', // cognito|parentWindow\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/state.js","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/symbol/iterator.js\n// module id = 132\n// module chunks = 0","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/symbol/iterator.js\n// module id = 133\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/symbol.js\n// module id = 134\n// module chunks = 0","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/symbol/index.js\n// module id = 135\n// module chunks = 0","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar keyOf = require('./_keyof');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key) {\n    if (isSymbol(key)) return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    replacer = args[1];\n    if (typeof replacer == 'function') $replacer = replacer;\n    if ($replacer || !isArray(replacer)) replacer = function (key, value) {\n      if ($replacer) value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.symbol.js\n// module id = 136\n// module chunks = 0","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_meta.js\n// module id = 137\n// module chunks = 0","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nmodule.exports = function (object, el) {\n  var O = toIObject(object);\n  var keys = getKeys(O);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) if (O[key = keys[index++]] === el) return key;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_keyof.js\n// module id = 138\n// module chunks = 0","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_enum-keys.js\n// module id = 139\n// module chunks = 0","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-array.js\n// module id = 140\n// module chunks = 0","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopn-ext.js\n// module id = 141\n// module chunks = 0","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopd.js\n// module id = 142\n// module chunks = 0","require('./_wks-define')('asyncIterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.symbol.async-iterator.js\n// module id = 143\n// module chunks = 0","require('./_wks-define')('observable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.symbol.observable.js\n// module id = 144\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/defineProperty.js\n// module id = 145\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/is-iterable.js\n// module id = 146\n// module chunks = 0","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/is-iterable.js\n// module id = 147\n// module chunks = 0","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.is-iterable.js\n// module id = 148\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/get-iterator.js\n// module id = 149\n// module chunks = 0","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/get-iterator.js\n// module id = 150\n// module chunks = 0","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator.js\n// module id = 151\n// module chunks = 0","var map = {\n\t\"./config.dev.json\": 153,\n\t\"./config.prod.json\": 154,\n\t\"./config.test.json\": 155\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 152;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/config ^\\.\\/config\\..*\\.json$\n// module id = 152\n// module chunks = 0","module.exports = {\"cognito\":{\"poolId\":\"\"},\"lex\":{\"botName\":\"WebUiOrderFlowers\",\"initialText\":\"You can ask me for help ordering flowers. Just type \\\"order flowers\\\" or click on the mic and say it.\",\"initialSpeechInstruction\":\"Say 'Order Flowers' to get started.\"},\"polly\":{\"voiceId\":\"Salli\"},\"ui\":{\"parentOrigin\":\"http://localhost:8080\",\"pageTitle\":\"Order Flowers Bot\",\"toolbarTitle\":\"Order Flowers\"},\"recorder\":{\"preset\":\"speech_recognition\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/config/config.dev.json\n// module id = 153\n// module chunks = 0","module.exports = {\"cognito\":{\"poolId\":\"\"},\"lex\":{\"botName\":\"WebUiOrderFlowers\",\"initialText\":\"You can ask me for help ordering flowers. Just type \\\"order flowers\\\" or click on the mic and say it.\",\"initialSpeechInstruction\":\"Say 'Order Flowers' to get started.\"},\"polly\":{\"voiceId\":\"Salli\"},\"ui\":{\"parentOrigin\":\"\",\"pageTitle\":\"Order Flowers Bot\",\"toolbarTitle\":\"Order Flowers\"},\"recorder\":{\"preset\":\"speech_recognition\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/config/config.prod.json\n// module id = 154\n// module chunks = 0","module.exports = {\"cognito\":{\"poolId\":\"\"},\"lex\":{\"botName\":\"WebUiOrderFlowers\",\"initialText\":\"You can ask me for help ordering flowers. Just type \\\"order flowers\\\" or click on the mic and say it.\",\"initialSpeechInstruction\":\"Say 'Order Flowers' to get started.\"},\"polly\":{\"voiceId\":\"Salli\"},\"ui\":{\"parentOrigin\":\"http://localhost:8080\",\"pageTitle\":\"Order Flowers Bot\",\"toolbarTitle\":\"Order Flowers\"},\"recorder\":{\"preset\":\"speech_recognition\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/config/config.test.json\n// module id = 155\n// module chunks = 0","/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\n\nexport default {\n  canInterruptBotPlayback: state => state.botAudio.canInterrupt,\n  isBotSpeaking: state => state.botAudio.isSpeaking,\n  isConversationGoing: state => state.recState.isConversationGoing,\n  isLexInterrupting: state => state.lex.isInterrupting,\n  isLexProcessing: state => state.lex.isProcessing,\n  isMicMuted: state => state.recState.isMicMuted,\n  isMicQuiet: state => state.recState.isMicQuiet,\n  isRecorderSupported: state => state.recState.isRecorderSupported,\n  isRecording: state => state.recState.isRecording,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\n\n/**\n * Store mutations\n */\n\n/* eslint no-console: [\"error\", { allow: [\"info\", \"warn\", \"error\"] }] */\n/* eslint no-param-reassign: [\"error\", { \"props\": false }] */\n/* eslint spaced-comment: [\"error\", \"always\", { \"exceptions\": [\"*\"] }] */\n\nimport { mergeConfig } from '@/config';\n\nexport default {\n  /***********************************************************************\n   *\n   * Recorder State Mutations\n   *\n   **********************************************************************/\n\n  /**\n   * true if recorder seems to be muted\n   */\n  setIsMicMuted(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsMicMuted status not boolean', bool);\n      return;\n    }\n    if (state.config.recorder.useAutoMuteDetect) {\n      state.recState.isMicMuted = bool;\n    }\n  },\n  /**\n   * set to true if mic if sound from mic is not loud enough\n   */\n  setIsMicQuiet(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsMicQuiet status not boolean', bool);\n      return;\n    }\n    state.recState.isMicQuiet = bool;\n  },\n  /**\n   * set to true while speech conversation is going\n   */\n  setIsConversationGoing(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsConversationGoing status not boolean', bool);\n      return;\n    }\n    state.recState.isConversationGoing = bool;\n  },\n  /**\n   * Signals recorder to start and sets recoding state to true\n   */\n  startRecording(state, recorder) {\n    console.info('start recording');\n    if (state.recState.isRecording === false) {\n      recorder.start();\n      state.recState.isRecording = true;\n    }\n  },\n  /**\n   * Set recording state to false\n   */\n  stopRecording(state, recorder) {\n    if (state.recState.isRecording === true) {\n      state.recState.isRecording = false;\n      if (recorder.isRecording) {\n        recorder.stop();\n      }\n    }\n  },\n  /**\n   * Increase consecutive silent recordings count\n   * This is used to bail out from the conversation\n   * when too many recordings are silent\n   */\n  increaseSilentRecordingCount(state) {\n    state.recState.silentRecordingCount += 1;\n  },\n  /**\n   * Reset the number of consecutive silent recordings\n   */\n  resetSilentRecordingCount(state) {\n    state.recState.silentRecordingCount = 0;\n  },\n  /**\n   * Set to true if audio recording should be enabled\n   */\n  setIsRecorderEnabled(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsRecorderEnabled status not boolean', bool);\n      return;\n    }\n    state.recState.isRecorderEnabled = bool;\n  },\n  /**\n   * Set to true if audio recording is supported\n   */\n  setIsRecorderSupported(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsRecorderSupported status not boolean', bool);\n      return;\n    }\n    state.recState.isRecorderSupported = bool;\n  },\n\n  /***********************************************************************\n   *\n   * Bot Audio Mutations\n   *\n   **********************************************************************/\n\n  /**\n   * set to true while audio from Lex is playing\n   */\n  setIsBotSpeaking(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsBotSpeaking status not boolean', bool);\n      return;\n    }\n    state.botAudio.isSpeaking = bool;\n  },\n  /**\n   * Set to true when the Lex audio is ready to autoplay\n   * after it has already played audio on user interaction (click)\n   */\n  setAudioAutoPlay(state, { audio, status }) {\n    if (typeof status !== 'boolean') {\n      console.error('setAudioAutoPlay status not boolean', status);\n      return;\n    }\n    state.botAudio.autoPlay = status;\n    audio.autoplay = status;\n  },\n  /**\n  * set to true if bot playback can be interrupted\n  */\n  setCanInterruptBotPlayback(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setCanInterruptBotPlayback status not boolean', bool);\n      return;\n    }\n    state.botAudio.canInterrupt = bool;\n  },\n  /**\n  * set to true if bot playback is being interrupted\n  */\n  setIsBotPlaybackInterrupting(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsBotPlaybackInterrupting status not boolean', bool);\n      return;\n    }\n    state.botAudio.isInterrupting = bool;\n  },\n  /**\n  * used to set the setInterval Id for bot playback interruption\n  */\n  setBotPlaybackInterruptIntervalId(state, id) {\n    if (typeof id !== 'number') {\n      console.error('setIsBotPlaybackInterruptIntervalId id is not a number', id);\n      return;\n    }\n    state.botAudio.interruptIntervalId = id;\n  },\n\n  /***********************************************************************\n   *\n   * Lex and Polly Mutations\n   *\n   **********************************************************************/\n\n  /**\n   * Updates Lex State from Lex responses\n   */\n  updateLexState(state, lexState) {\n    state.lex = { ...state.lex, ...lexState };\n  },\n  /**\n   * Sets the Lex session attributes\n   */\n  setLexSessionAttributes(state, sessionAttributes) {\n    if (typeof sessionAttributes !== 'object') {\n      console.error('sessionAttributes is not an object', sessionAttributes);\n      return;\n    }\n    state.lex.sessionAttributes = sessionAttributes;\n  },\n  /**\n  * set to true while calling lexPost{Text,Content}\n  * to mark as processing\n  */\n  setIsLexProcessing(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsLexProcessing status not boolean', bool);\n      return;\n    }\n    state.lex.isProcessing = bool;\n  },\n  /**\n  * set to true if lex is being interrupted while speaking\n  */\n  setIsLexInterrupting(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsLexInterrupting status not boolean', bool);\n      return;\n    }\n    state.lex.isInterrupting = bool;\n  },\n  /**\n   * Set the supported content types to be used with Lex/Polly\n   */\n  setAudioContentType(state, type) {\n    switch (type) {\n      case 'mp3':\n      case 'mpg':\n      case 'mpeg':\n        state.polly.outputFormat = 'mp3';\n        state.lex.acceptFormat = 'audio/mpeg';\n        break;\n      case 'ogg':\n      case 'ogg_vorbis':\n      case 'x-cbr-opus-with-preamble':\n      default:\n        state.polly.outputFormat = 'ogg_vorbis';\n        state.lex.acceptFormat = 'audio/ogg';\n        break;\n    }\n  },\n  /**\n   * Set the Polly voice to be used by the client\n   */\n  setPollyVoiceId(state, voiceId) {\n    if (typeof voiceId !== 'string') {\n      console.error('polly voiceId is not a string', voiceId);\n      return;\n    }\n    state.polly.voiceId = voiceId;\n  },\n\n  /***********************************************************************\n   *\n   * UI and General Mutations\n   *\n   **********************************************************************/\n\n  /**\n   * Merges the general config of the web ui\n   * with a dynamic config param and merges it with\n   * the existing config (e.g. initialized from ../config)\n   */\n  mergeConfig(state, config) {\n    if (typeof config !== 'object') {\n      console.error('config is not an object', config);\n      return;\n    }\n\n    // security: do not accept dynamic parentOrigin\n    const parentOrigin = (\n      state.config && state.config.ui &&\n      state.config.ui.parentOrigin\n    ) ?\n      state.config.ui.parentOrigin :\n      config.ui.parentOrigin || window.location.origin;\n    const configFiltered = {\n      ...config,\n      ...{ ui: { ...config.ui, parentOrigin } },\n    };\n    if (state.config && state.config.ui && state.config.ui.parentOrigin &&\n      config.ui && config.ui.parentOrigin &&\n      config.ui.parentOrigin !== state.config.ui.parentOrigin\n    ) {\n      console.warn('ignoring parentOrigin in config: ', config.ui.parentOrigin);\n    }\n    state.config = mergeConfig(state.config, configFiltered);\n  },\n  /**\n   * Set to true if running embedded in an iframe\n   */\n  setIsRunningEmbedded(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsRunningEmbedded status not boolean', bool);\n      return;\n    }\n    state.isRunningEmbedded = bool;\n  },\n  /**\n  * used to track the expand/minimize status of the window when\n  * running embedded in an iframe\n  */\n  toggleIsUiMinimized(state) {\n    state.isUiMinimized = !state.isUiMinimized;\n  },\n  /**\n   * Push new message into messages array\n   */\n  pushMessage(state, message) {\n    state.messages.push({\n      id: state.messages.length,\n      ...message,\n    });\n  },\n  /**\n   * Set the AWS credentials provider\n   */\n  setAwsCredsProvider(state, provider) {\n    state.awsCreds.provider = provider;\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\n\n/**\n * Asynchronous store actions\n */\n\n/* eslint no-console: [\"error\", { allow: [\"info\", \"warn\", \"error\"] }] */\n/* eslint spaced-comment: [\"error\", \"always\", { \"exceptions\": [\"*\"] }] */\n\nimport LexAudioRecorder from '@/lib/lex/recorder';\nimport initRecorderHandlers from '@/store/recorder-handlers';\nimport silentOgg from '@/assets/silent.ogg';\nimport silentMp3 from '@/assets/silent.mp3';\n\nimport LexClient from '@/lib/lex/client';\n\n// non-state variables that may be mutated outside of store\n// set via initializers at run time\nlet awsCredentials;\nlet pollyClient;\nlet lexClient;\nlet audio;\nlet recorder;\n\nexport default {\n\n  /***********************************************************************\n   *\n   * Initialization Actions\n   *\n   **********************************************************************/\n\n  initCredentials(context, credentials) {\n    switch (context.state.awsCreds.provider) {\n      case 'cognito':\n        awsCredentials = credentials;\n        return context.dispatch('getCredentials');\n      case 'parentWindow':\n        return context.dispatch('getCredentials');\n      default:\n        return Promise.reject('unknown credential provider');\n    }\n  },\n  getConfigFromParent(context) {\n    if (!context.state.isRunningEmbedded) {\n      return Promise.resolve({});\n    }\n\n    return context.dispatch('sendMessageToParentWindow',\n      { event: 'initIframeConfig' },\n    )\n      .then((configResponse) => {\n        if (configResponse.event === 'resolve' &&\n            configResponse.type === 'initIframeConfig') {\n          return Promise.resolve(configResponse.data);\n        }\n        return Promise.reject('invalid config event from parent');\n      });\n  },\n  initConfig(context, configObj) {\n    context.commit('mergeConfig', configObj);\n  },\n  initMessageList(context) {\n    context.commit('pushMessage', {\n      type: 'bot',\n      text: context.state.config.lex.initialText,\n    });\n  },\n  initLexClient(context, lexRuntimeClient) {\n    lexClient = new LexClient({\n      botName: context.state.config.lex.botName,\n      botAlias: context.state.config.lex.botAlias,\n      lexRuntimeClient,\n    });\n\n    context.commit('setLexSessionAttributes',\n      context.state.config.lex.sessionAttributes,\n    );\n    return context.dispatch('getCredentials')\n      .then(() => {\n        lexClient.initCredentials(\n          awsCredentials,\n        );\n      });\n  },\n  initPollyClient(context, client) {\n    if (!context.state.recState.isRecorderEnabled) {\n      return Promise.resolve();\n    }\n    pollyClient = client;\n    context.commit('setPollyVoiceId', context.state.config.polly.voiceId);\n    return context.dispatch('getCredentials')\n      .then((creds) => {\n        pollyClient.config.credentials = creds;\n      });\n  },\n  initRecorder(context) {\n    if (!context.state.recState.isRecorderEnabled ||\n      !context.state.config.recorder.enable\n    ) {\n      return Promise.resolve();\n    }\n    recorder = new LexAudioRecorder(\n      context.state.config.recorder,\n    );\n\n    return recorder.init()\n      .then(() => recorder.initOptions(context.state.config.recorder))\n      .then(() => initRecorderHandlers(context, recorder))\n      .then(() => context.commit('setIsRecorderSupported', true))\n      .then(() => context.commit('setIsMicMuted', recorder.isMicMuted))\n      .catch((error) => {\n        if (['PermissionDeniedError', 'NotAllowedError'].indexOf(error.name)\n            >= 0) {\n          console.warn('get user media permission denied');\n          context.dispatch('pushErrorMessage',\n            'It seems like the microphone access has been denied. ' +\n            'If you want to use voice, please allow mic usage in your browser.',\n          );\n        } else {\n          console.error('error while initRecorder', error);\n        }\n      });\n  },\n  initBotAudio(context, audioElement) {\n    if (!context.state.recState.isRecorderEnabled) {\n      return Promise.resolve();\n    }\n    if (!audioElement) {\n      return Promise.reject('invalid audio element');\n    }\n    audio = audioElement;\n\n    let silentSound;\n\n    // Ogg is the preferred format as it seems to be generally smaller.\n    // Detect if ogg is supported (MS Edge doesn't).\n    // Can't default to mp3 as it is not supported by some Android browsers\n    if (audio.canPlayType('audio/ogg') !== '') {\n      context.commit('setAudioContentType', 'ogg');\n      silentSound = silentOgg;\n    } else if (audio.canPlayType('audio/mp3') !== '') {\n      context.commit('setAudioContentType', 'mp3');\n      silentSound = silentMp3;\n    } else {\n      console.error('init audio could not find supportted audio type');\n      console.warn('init audio can play mp3 [%s]',\n        audio.canPlayType('audio/mp3'));\n      console.warn('init audio can play ogg [%s]',\n        audio.canPlayType('audio/ogg'));\n    }\n\n    console.info('recorder content types: %s',\n      recorder.mimeType,\n    );\n\n    audio.preload = 'auto';\n    // Load a silent sound as the initial audio. This is used to workaround\n    // the requirement of mobile browsers that would only play a\n    // sound in direct response to a user action (e.g. click).\n    // This audio should be explicitly played as a response to a click\n    // in the UI\n    audio.src = silentSound;\n    // autoplay will be set as a response to a clik\n    audio.autoplay = false;\n\n    return Promise.resolve();\n  },\n  reInitBot(context) {\n    return Promise.resolve()\n      .then(() => (\n        (context.state.config.ui.pushInitialTextOnRestart) ?\n          context.dispatch('pushMessage', {\n            text: context.state.config.lex.initialText,\n            type: 'bot',\n          }) :\n          Promise.resolve()\n      ))\n      .then(() => (\n        (context.state.config.lex.reInitSessionAttributesOnRestart) ?\n          context.commit('setLexSessionAttributes',\n            context.state.config.lex.sessionAttributes,\n          ) :\n          Promise.resolve()\n      ));\n  },\n\n  /***********************************************************************\n   *\n   * Audio Actions\n   *\n   **********************************************************************/\n\n  getAudioUrl(context, blob) {\n    let url;\n\n    try {\n      url = URL.createObjectURL(blob);\n    } catch (error) {\n      console.error('getAudioUrl createObjectURL error', error);\n      return Promise.reject(\n        `There was an error processing the audio response (${error})`,\n      );\n    }\n\n    return Promise.resolve(url);\n  },\n  setAudioAutoPlay(context) {\n    if (audio.autoplay) {\n      return Promise.resolve();\n    }\n    return new Promise((resolve, reject) => {\n      audio.play();\n      // eslint-disable-next-line no-param-reassign\n      audio.onended = () => {\n        context.commit('setAudioAutoPlay', { audio, status: true });\n        resolve();\n      };\n      // eslint-disable-next-line no-param-reassign\n      audio.onerror = (err) => {\n        context.commit('setAudioAutoPlay', { audio, status: false });\n        reject(`setting audio autoplay failed: ${err}`);\n      };\n    });\n  },\n  playAudio(context, url) {\n    return new Promise((resolve) => {\n      audio.onloadedmetadata = () => {\n        context.commit('setIsBotSpeaking', true);\n        context.dispatch('playAudioHandler')\n          .then(() => resolve());\n      };\n      audio.src = url;\n    });\n  },\n  playAudioHandler(context) {\n    return new Promise((resolve, reject) => {\n      const { enablePlaybackInterrupt } = context.state.config.lex;\n\n      const clearPlayback = () => {\n        context.commit('setIsBotSpeaking', false);\n        const intervalId = context.state.botAudio.interruptIntervalId;\n        if (intervalId && enablePlaybackInterrupt) {\n          clearInterval(intervalId);\n          context.commit('setBotPlaybackInterruptIntervalId', 0);\n          context.commit('setIsLexInterrupting', false);\n          context.commit('setCanInterruptBotPlayback', false);\n          context.commit('setIsBotPlaybackInterrupting', false);\n        }\n      };\n\n      audio.onerror = (error) => {\n        clearPlayback();\n        reject(`There was an error playing the response (${error})`);\n      };\n      audio.onended = () => {\n        clearPlayback();\n        resolve();\n      };\n      audio.onpause = audio.onended;\n\n      if (enablePlaybackInterrupt) {\n        context.dispatch('playAudioInterruptHandler');\n      }\n    });\n  },\n  playAudioInterruptHandler(context) {\n    const { isSpeaking } = context.state.botAudio;\n    const {\n      enablePlaybackInterrupt,\n      playbackInterruptMinDuration,\n      playbackInterruptVolumeThreshold,\n      playbackInterruptLevelThreshold,\n      playbackInterruptNoiseThreshold,\n    } = context.state.config.lex;\n    const intervalTimeInMs = 200;\n\n    if (!enablePlaybackInterrupt &&\n        !isSpeaking &&\n        context.state.lex.isInterrupting &&\n        audio.duration < playbackInterruptMinDuration\n    ) {\n      return;\n    }\n\n    const intervalId = setInterval(() => {\n      const duration = audio.duration;\n      const end = audio.played.end(0);\n      const { canInterrupt } = context.state.botAudio;\n\n      if (!canInterrupt &&\n          // allow to be interrupt free in the beginning\n          end > playbackInterruptMinDuration &&\n          // don't interrupt towards the end\n          (duration - end) > 0.5 &&\n          // only interrupt if the volume seems to be low noise\n          recorder.volume.max < playbackInterruptNoiseThreshold\n      ) {\n        context.commit('setCanInterruptBotPlayback', true);\n      } else if (canInterrupt && (duration - end) < 0.5) {\n        context.commit('setCanInterruptBotPlayback', false);\n      }\n\n      if (canInterrupt &&\n          recorder.volume.max > playbackInterruptVolumeThreshold &&\n          recorder.volume.slow > playbackInterruptLevelThreshold\n      ) {\n        clearInterval(intervalId);\n        context.commit('setIsBotPlaybackInterrupting', true);\n        setTimeout(() => {\n          audio.pause();\n        }, 500);\n      }\n    }, intervalTimeInMs);\n\n    context.commit('setBotPlaybackInterruptIntervalId', intervalId);\n  },\n  getAudioProperties() {\n    return (audio) ?\n      {\n        currentTime: audio.currentTime,\n        duration: audio.duration,\n        end: audio.played.end(0),\n        ended: audio.ended,\n        paused: audio.paused,\n      } :\n      {};\n  },\n\n  /***********************************************************************\n   *\n   * Recorder Actions\n   *\n   **********************************************************************/\n\n  startConversation(context) {\n    context.commit('setIsConversationGoing', true);\n    return context.dispatch('startRecording');\n  },\n  stopConversation(context) {\n    context.commit('setIsConversationGoing', false);\n  },\n  startRecording(context) {\n    // don't record if muted\n    if (context.state.recState.isMicMuted === true) {\n      console.warn('recording while muted');\n      context.dispatch('stopConversation');\n      return Promise.reject('The microphone seems to be muted.');\n    }\n\n    context.commit('startRecording', recorder);\n    return Promise.resolve();\n  },\n  stopRecording(context) {\n    context.commit('stopRecording', recorder);\n  },\n  getRecorderVolume(context) {\n    if (!context.state.recState.isRecorderEnabled) {\n      return Promise.resolve();\n    }\n    return recorder.volume;\n  },\n\n  /***********************************************************************\n   *\n   * Lex and Polly Actions\n   *\n   **********************************************************************/\n\n  pollyGetBlob(context, text) {\n    const synthReq = pollyClient.synthesizeSpeech({\n      Text: text,\n      VoiceId: context.state.polly.voiceId,\n      OutputFormat: context.state.polly.outputFormat,\n    });\n    return context.dispatch('getCredentials')\n      .then(() => synthReq.promise())\n      .then(data =>\n        Promise.resolve(\n          new Blob(\n            [data.AudioStream], { type: data.ContentType },\n          ),\n        ),\n      );\n  },\n  pollySynthesizeSpeech(context, text) {\n    return context.dispatch('pollyGetBlob', text)\n      .then(blob => context.dispatch('getAudioUrl', blob))\n      .then(audioUrl => context.dispatch('playAudio', audioUrl));\n  },\n  interruptSpeechConversation(context) {\n    if (!context.state.recState.isConversationGoing) {\n      return Promise.resolve();\n    }\n\n    return new Promise((resolve, reject) => {\n      context.dispatch('stopConversation')\n        .then(() => context.dispatch('stopRecording'))\n        .then(() => {\n          if (context.state.botAudio.isSpeaking) {\n            audio.pause();\n          }\n        })\n        .then(() => {\n          let count = 0;\n          const countMax = 20;\n          const intervalTimeInMs = 250;\n          context.commit('setIsLexInterrupting', true);\n          const intervalId = setInterval(() => {\n            if (!context.state.lex.isProcessing) {\n              clearInterval(intervalId);\n              context.commit('setIsLexInterrupting', false);\n              resolve();\n            }\n            if (count > countMax) {\n              clearInterval(intervalId);\n              context.commit('setIsLexInterrupting', false);\n              reject('interrupt interval exceeded');\n            }\n            count += 1;\n          }, intervalTimeInMs);\n        });\n    });\n  },\n  postTextMessage(context, message) {\n    context.dispatch('interruptSpeechConversation')\n      .then(() => context.dispatch('pushMessage', message))\n      .then(() => context.dispatch('lexPostText', message.text))\n      .then(response => context.dispatch('pushMessage',\n        {\n          text: response.message,\n          type: 'bot',\n          dialogState: context.state.lex.dialogState,\n          responseCard: context.state.lex.responseCard,\n        },\n      ))\n      .then(() => {\n        if (context.state.lex.dialogState === 'Fulfilled') {\n          context.dispatch('reInitBot');\n        }\n      })\n      .catch((error) => {\n        console.error('error in postTextMessage', error);\n        context.dispatch('pushErrorMessage',\n          `I was unable to process your message. ${error}`,\n        );\n      });\n  },\n  lexPostText(context, text) {\n    context.commit('setIsLexProcessing', true);\n    return context.dispatch('getCredentials')\n      .then(() =>\n        lexClient.postText(text, context.state.lex.sessionAttributes),\n      )\n      .then((data) => {\n        context.commit('setIsLexProcessing', false);\n        return context.dispatch('updateLexState', data)\n          .then(() => Promise.resolve(data));\n      });\n  },\n  lexPostContent(context, audioBlob, offset = 0) {\n    context.commit('setIsLexProcessing', true);\n    console.info('audio blob size:', audioBlob.size);\n    let timeStart;\n\n    return context.dispatch('getCredentials')\n      .then(() => {\n        timeStart = performance.now();\n        return lexClient.postContent(\n          audioBlob,\n          context.state.lex.sessionAttributes,\n          context.state.lex.acceptFormat,\n          offset,\n        );\n      })\n      .then((lexResponse) => {\n        const timeEnd = performance.now();\n        console.info('lex postContent processing time:',\n          ((timeEnd - timeStart) / 1000).toFixed(2),\n        );\n        context.commit('setIsLexProcessing', false);\n        return context.dispatch('updateLexState', lexResponse)\n          .then(() =>\n            context.dispatch('processLexContentResponse', lexResponse),\n          )\n          .then(blob => Promise.resolve(blob));\n      });\n  },\n  processLexContentResponse(context, lexData) {\n    const { audioStream, contentType, dialogState } = lexData;\n\n    return Promise.resolve()\n      .then(() => {\n        if (!audioStream || !audioStream.length) {\n          const text = (dialogState === 'ReadyForFulfillment') ?\n            'All done' :\n            'There was an error';\n          return context.dispatch('pollyGetBlob', text);\n        }\n\n        return Promise.resolve(\n          new Blob([audioStream], { type: contentType }),\n        );\n      });\n  },\n  updateLexState(context, lexState) {\n    const lexStateDefault = {\n      dialogState: '',\n      inputTranscript: '',\n      intentName: '',\n      message: '',\n      responseCard: null,\n      sessionAttributes: {},\n      slotToElicit: '',\n      slots: {},\n    };\n    // simulate response card in sessionAttributes\n    // used mainly for postContent which doesn't support response cards\n    if ('sessionAttributes' in lexState &&\n      'appContext' in lexState.sessionAttributes\n    ) {\n      try {\n        const appContext = JSON.parse(lexState.sessionAttributes.appContext);\n        if ('responseCard' in appContext) {\n          lexStateDefault.responseCard =\n            appContext.responseCard;\n        }\n      } catch (e) {\n        return Promise.reject('error parsing appContext in sessionAttributes');\n      }\n    }\n    context.commit('updateLexState', { ...lexStateDefault, ...lexState });\n    if (context.state.isRunningEmbedded) {\n      context.dispatch('sendMessageToParentWindow',\n        { event: 'updateLexState', state: context.state.lex },\n      );\n    }\n    return Promise.resolve();\n  },\n\n  /***********************************************************************\n   *\n   * Message List Actions\n   *\n   **********************************************************************/\n\n  pushMessage(context, message) {\n    context.commit('pushMessage', message);\n  },\n  pushErrorMessage(context, text, dialogState = 'Failed') {\n    context.commit('pushMessage', {\n      type: 'bot',\n      text,\n      dialogState,\n    });\n  },\n\n  /***********************************************************************\n   *\n   * Credentials Actions\n   *\n   **********************************************************************/\n\n  getCredentialsFromParent(context) {\n    const credsExpirationDate = new Date(\n      (awsCredentials && awsCredentials.expireTime) ?\n        awsCredentials.expireTime :\n        0,\n    );\n    const now = Date.now();\n    if (credsExpirationDate > now) {\n      return Promise.resolve(awsCredentials);\n    }\n    return context.dispatch('sendMessageToParentWindow', { event: 'getCredentials' })\n      .then((credsResponse) => {\n        if (credsResponse.event === 'resolve' &&\n            credsResponse.type === 'getCredentials') {\n          return Promise.resolve(credsResponse.data);\n        }\n        return Promise.reject('invalid credential event from parent');\n      })\n      .then((creds) => {\n        const { AccessKeyId, SecretKey, SessionToken } = creds.data.Credentials;\n        const IdentityId = creds.data.IdentityId;\n        // recreate as a static credential\n        awsCredentials = {\n          accessKeyId: AccessKeyId,\n          secretAccessKey: SecretKey,\n          sessionToken: SessionToken,\n          identityId: IdentityId,\n          expired: false,\n          getPromise() { return Promise.resolve(awsCredentials); },\n        };\n\n        return awsCredentials;\n      });\n  },\n  getCredentials(context) {\n    if (context.state.awsCreds.provider === 'parentWindow') {\n      return context.dispatch('getCredentialsFromParent');\n    }\n    return awsCredentials.getPromise()\n      .then(() => awsCredentials);\n  },\n\n  /***********************************************************************\n   *\n   * UI and Parent Communication Actions\n   *\n   **********************************************************************/\n\n  toggleIsUiMinimized(context) {\n    context.commit('toggleIsUiMinimized');\n    return context.dispatch(\n      'sendMessageToParentWindow',\n      { event: 'toggleMinimizeUi' },\n    );\n  },\n  sendMessageToParentWindow(context, message) {\n    if (!context.state.isRunningEmbedded) {\n      const error = 'sendMessage called when not running embedded';\n      console.warn(error);\n      return Promise.reject(error);\n    }\n\n    return new Promise((resolve, reject) => {\n      const messageChannel = new MessageChannel();\n      messageChannel.port1.onmessage = (evt) => {\n        messageChannel.port1.close();\n        messageChannel.port2.close();\n        if (evt.data.event === 'resolve') {\n          resolve(evt.data);\n        } else {\n          reject(`error in sendMessageToParentWindow ${evt.data.error}`);\n        }\n      };\n      parent.postMessage(message,\n        context.state.config.ui.parentOrigin, [messageChannel.port2]);\n    });\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","/*\n Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\n Licensed under the Amazon Software License (the \"License\"). You may not use this file\n except in compliance with the License. A copy of the License is located at\n\n http://aws.amazon.com/asl/\n\n or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\n BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\n License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint no-console: [\"error\", { allow: [\"info\", \"warn\", \"error\"] }] */\n/* global AudioContext CustomEvent document Event navigator window */\n\n// XXX do we need webrtc-adapter?\n// XXX npm uninstall it after testing\n// XXX import 'webrtc-adapter';\n\n// wav encoder worker - uses webpack worker loader\nimport WavWorker from './wav-worker';\n\n/**\n * Lex Recorder Module\n * Based on Recorderjs. It sort of mimics the MediaRecorder API.\n * @see {@link https://github.com/mattdiamond/Recorderjs}\n * @see {@https://github.com/chris-rudmin/Recorderjs}\n * @see {@https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder}\n */\n\n/**\n * Class for Lex audio recording management.\n *\n * This class is used for microphone initialization and recording\n * management. It encodes the mic input into wav format.\n * It also monitors the audio input stream (e.g keeping track of volume)\n * filtered around human voice speech frequencies to look for silence\n */\nexport default class {\n  /* eslint no-underscore-dangle: [\"error\", { \"allowAfterThis\": true }] */\n\n  /**\n   * Constructs the recorder object\n   *\n   * @param {object} - options object\n   *\n   * @param {string} options.mimeType - Mime type to use on recording.\n   *   Only 'audio/wav' is supported for now. Default: 'aduio/wav'.\n   *\n   * @param {boolean} options.autoStopRecording -  Controls if the recording\n   *   should automatically stop on silence detection. Default: true.\n   *\n   * @param {number} options.recordingTimeMax - Maximum recording time in\n   *   seconds. Recording will stop after going for this long. Default: 8.\n   *\n   * @param {number} options.recordingTimeMin - Minimum recording time in\n   *   seconds. Used before evaluating if the line is quiet to allow initial\n   *   pauses before speech. Default: 2.\n   *\n   * @param {boolean} options.recordingTimeMinAutoIncrease - Controls if the\n   *   recordingTimeMin should be automatically increased (exponentially)\n   *   based on the number of consecutive silent recordings.\n   *   Default: true.\n   *\n   * @param {number} options.quietThreshold - Threshold of mic input level\n   *   to consider quiet. Used to determine pauses in input this is measured\n   *   using the \"slow\" mic volume. Default: 0.001.\n   *\n   * @param {number} options.quietTimeMin - Minimum mic quiet time (normally in\n   *   fractions of a second) before automatically stopping the recording when\n   *   autoStopRecording is true. In reality it takes a bit more time than this\n   *   value given that the slow volume value is a decay. Reasonable times seem\n   *   to be between 0.2 and 0.5. Default: 0.4.\n   *\n   * @param {number} options.volumeThreshold - Threshold of mic db level\n   *   to consider quiet. Used to determine pauses in input this is measured\n   *   using the \"max\" mic volume. Smaller values make the recorder auto stop\n   *   faster. Default: -75\n   *\n   * @param {bool} options.useBandPass - Controls if a band pass filter is used\n   *   for the microphone input. If true, the input is passed through a second\n   *   order bandpass filter using AudioContext.createBiquadFilter:\n   *   https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/createBiquadFilter\n   *   The bandpass filter helps to reduce noise, improve silence detection and\n   *   produce smaller audio blobs. However, it may produce audio with lower\n   *   fidelity. Default: true\n   *\n   * @param {number} options.bandPassFrequency - Frequency of bandpass filter in\n   *   Hz. Mic input is passed through a second order bandpass filter to remove\n   *   noise and improve quality/speech silence detection. Reasonable values\n   *   should be around 3000 - 5000. Default: 4000.\n   *\n   * @param {number} options.bandPassQ - Q factor of bandpass filter.\n   *   The higher the vaue, the narrower the pass band and steeper roll off.\n   *   Reasonable values should be between 0.5 and 1.5. Default: 0.707\n   *\n   * @param {number} options.bufferLength - Length of buffer used in audio\n   *   processor. Should be in powers of two between 512 to 8196. Passed to\n   *   script processor and audio encoder. Lower values have lower latency.\n   *   Default: 2048.\n   *\n   * @param {number} options.numChannels- Number of channels to record.\n   *   Default: 1 (mono).\n   *\n   * @param {number} options.requestEchoCancellation - Request to use echo\n   *   cancellation in the getUserMedia call:\n   *   https://developer.mozilla.org/en-US/docs/Web/API/MediaTrackConstraints/echoCancellation\n   *   Default: true.\n   *\n   * @param {bool} options.useAutoMuteDetect - Controls if the recorder utilizes\n   *   automatic mute detection.\n   *   Default: true.\n   *\n   * @param {number} options.muteThreshold - Threshold level when mute values\n   *   are detected when useAutoMuteDetect is enabled. The higher the faster\n   *   it reports the mic to be in a muted state but may cause it to flap\n   *   between mute/unmute. The lower the values the slower it is to report\n   *   the mic as mute. Too low of a value may cause it to never report the\n   *   line as muted. Works in conjuction with options.quietTreshold.\n   *   Reasonable values seem to be between: 1e-5 and 1e-8. Default: 1e-7.\n   *\n   * @param {bool} options.encoderUseTrim - Controls if the encoder should\n   *   attempt to trim quiet samples from the beginning and end of the buffer\n   *   Default: true.\n   *\n   * @param {number} options.encoderQuietTrimThreshold - Threshold when quiet\n   *   levels are detected. Only applicable when encoderUseTrim is enabled. The\n   *   encoder will trim samples below this value at the beginnig and end of the\n   *   buffer. Lower value trim less silence resulting in larger WAV files.\n   *   Reasonable values seem to be between 0.005 and 0.0005. Default: 0.0008.\n   *\n   * @param {number} options.encoderQuietTrimSlackBack - How many samples to\n   *   add back to the encoded buffer before/after the\n   *   encoderQuietTrimThreshold. Higher values trim less silence resulting in\n   *   larger WAV files.\n   *   Reasonable values seem to be between 3500 and 5000. Default: 4000.\n   */\n  constructor(options = {}) {\n    this.initOptions(options);\n\n    // event handler used for events similar to MediaRecorder API (e.g. onmute)\n    this._eventTarget = document.createDocumentFragment();\n\n    // encoder worker\n    this._encoderWorker = new WavWorker();\n\n    // worker uses this event listener to signal back\n    // when wav has finished encoding\n    this._encoderWorker.addEventListener('message',\n      evt => this._exportWav(evt.data),\n    );\n  }\n\n  /**\n   * Initialize general recorder options\n   *\n   * @param {object} options - object with various options controlling the\n   *   recorder behavior. See the constructor for details.\n   */\n  initOptions(options = {}) {\n    // TODO break this into functions, avoid side-effects, break into this.options.*\n    if (options.preset) {\n      Object.assign(options, this._getPresetOptions(options.preset));\n    }\n\n    this.mimeType = options.mimeType || 'audio/wav';\n\n    this.recordingTimeMax = options.recordingTimeMax || 8;\n    this.recordingTimeMin = options.recordingTimeMin || 2;\n    this.recordingTimeMinAutoIncrease =\n      (typeof options.recordingTimeMinAutoIncrease !== 'undefined') ?\n        !!options.recordingTimeMinAutoIncrease :\n        true;\n\n    // speech detection configuration\n    this.autoStopRecording =\n      (typeof options.autoStopRecording !== 'undefined') ?\n        !!options.autoStopRecording :\n        true;\n    this.quietThreshold = options.quietThreshold || 0.001;\n    this.quietTimeMin = options.quietTimeMin || 0.4;\n    this.volumeThreshold = options.volumeThreshold || -75;\n\n    // band pass configuration\n    this.useBandPass =\n      (typeof options.useBandPass !== 'undefined') ?\n        !!options.useBandPass :\n        true;\n    // https://developer.mozilla.org/en-US/docs/Web/API/BiquadFilterNode\n    this.bandPassFrequency = options.bandPassFrequency || 4000;\n    // Butterworth 0.707 [sqrt(1/2)]  | Chebyshev < 1.414\n    this.bandPassQ = options.bandPassQ || 0.707;\n\n    // parameters passed to script processor and also used in encoder\n    // https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/createScriptProcessor\n    this.bufferLength = options.bufferLength || 2048;\n    this.numChannels = options.numChannels || 1;\n\n    this.requestEchoCancellation =\n      (typeof options.requestEchoCancellation !== 'undefined') ?\n        !!options.requestEchoCancellation :\n        true;\n\n    // automatic mute detection options\n    this.useAutoMuteDetect =\n      (typeof options.useAutoMuteDetect !== 'undefined') ?\n        !!options.useAutoMuteDetect :\n        true;\n    this.muteThreshold = options.muteThreshold || 1e-7;\n\n    // encoder options\n    this.encoderUseTrim =\n      (typeof options.encoderUseTrim !== 'undefined') ?\n        !!options.encoderUseTrim :\n        true;\n    this.encoderQuietTrimThreshold =\n      options.encoderQuietTrimThreshold || 0.0008;\n    this.encoderQuietTrimSlackBack = options.encoderQuietTrimSlackBack || 4000;\n  }\n\n  _getPresetOptions(preset = 'low_latency') {\n    this._presets = ['low_latency', 'speech_recognition'];\n\n    if (this._presets.indexOf(preset) === -1) {\n      console.error('invalid preset');\n      return {};\n    }\n\n    const presets = {\n      low_latency: {\n        encoderUseTrim: true,\n        useBandPass: true,\n      },\n      speech_recognition: {\n        encoderUseTrim: false,\n        useBandPass: false,\n        useAutoMuteDetect: false,\n      },\n    };\n\n    return presets[preset];\n  }\n\n  /**\n   * General init. This function should be called to initialize the recorder.\n   *\n   * @param {object} options - Optional parameter to reinitialize the\n   *   recorder behavior. See the constructor for details.\n   *\n   * @return {Promise} - Returns a promise that resolves when the recorder is\n   *   ready.\n   */\n  init() {\n    this._state = 'inactive';\n\n    this._instant = 0.0;\n    this._slow = 0.0;\n    this._clip = 0.0;\n    this._maxVolume = -Infinity;\n\n    this._isMicQuiet = true;\n    this._isMicMuted = false;\n\n    this._isSilentRecording = true;\n    this._silentRecordingConsecutiveCount = 0;\n\n    // sets this._audioContext AudioContext object\n    return this._initAudioContext()\n      .then(() =>\n        // inits AudioContext.createScriptProcessor object\n        // used to process mic audio input volume\n        // sets this._micVolumeProcessor\n        this._initMicVolumeProcessor(),\n      )\n      .then(() =>\n        this._initStream(),\n      );\n  }\n\n  /**\n   * Start recording\n   */\n  start() {\n    if (this._state !== 'inactive' ||\n      typeof this._stream === 'undefined') {\n      console.warn('recorder start called out of state');\n      return;\n    }\n\n    this._state = 'recording';\n\n    this._recordingStartTime = this._audioContext.currentTime;\n    this._eventTarget.dispatchEvent(new Event('start'));\n\n    this._encoderWorker.postMessage({\n      command: 'init',\n      config: {\n        sampleRate: this._audioContext.sampleRate,\n        numChannels: this.numChannels,\n        useTrim: this.encoderUseTrim,\n        quietTrimThreshold: this.encoderQuietTrimThreshold,\n        quietTrimSlackBack: this.encoderQuietTrimSlackBack,\n      },\n    });\n  }\n\n  /**\n   * Stop recording\n   */\n  stop() {\n    if (this._state !== 'recording') {\n      console.warn('recorder stop called out of state');\n      return;\n    }\n\n    if (this._recordingStartTime > this._quietStartTime) {\n      this._isSilentRecording = true;\n      this._silentRecordingConsecutiveCount += 1;\n      this._eventTarget.dispatchEvent(new Event('silentrecording'));\n    } else {\n      this._isSilentRecording = false;\n      this._silentRecordingConsecutiveCount = 0;\n      this._eventTarget.dispatchEvent(new Event('unsilentrecording'));\n    }\n\n    this._state = 'inactive';\n    this._recordingStartTime = 0;\n\n    this._encoderWorker.postMessage({\n      command: 'exportWav',\n      type: 'audio/wav',\n    });\n\n    this._eventTarget.dispatchEvent(new Event('stop'));\n  }\n\n  _exportWav(evt) {\n    this._eventTarget.dispatchEvent(\n      new CustomEvent('dataavailable', { detail: evt.data }),\n    );\n    this._encoderWorker.postMessage({ command: 'clear' });\n  }\n\n  _recordBuffers(inputBuffer) {\n    if (this._state !== 'recording') {\n      console.warn('recorder _recordBuffers called out of state');\n      return;\n    }\n    const buffer = [];\n    for (let i = 0; i < inputBuffer.numberOfChannels; i++) {\n      buffer[i] = inputBuffer.getChannelData(i);\n    }\n\n    this._encoderWorker.postMessage({\n      command: 'record',\n      buffer,\n    });\n  }\n\n  _setIsMicMuted() {\n    if (!this.useAutoMuteDetect) {\n      return;\n    }\n    // TODO incorporate _maxVolume\n    if (this._instant >= this.muteThreshold) {\n      if (this._isMicMuted) {\n        this._isMicMuted = false;\n        this._eventTarget.dispatchEvent(new Event('unmute'));\n      }\n      return;\n    }\n\n    if (!this._isMicMuted && (this._slow < this.muteThreshold)) {\n      this._isMicMuted = true;\n      this._eventTarget.dispatchEvent(new Event('mute'));\n      console.info('mute - instant: %s - slow: %s - track muted: %s',\n        this._instant, this._slow, this._tracks[0].muted,\n      );\n\n      if (this._state === 'recording') {\n        this.stop();\n        console.info('stopped recording on _setIsMicMuted');\n      }\n    }\n  }\n\n  _setIsMicQuiet() {\n    const now = this._audioContext.currentTime;\n\n    const isMicQuiet = (this._maxVolume < this.volumeThreshold ||\n      this._slow < this.quietThreshold);\n\n    // start record the time when the line goes quiet\n    // fire event\n    if (!this._isMicQuiet && isMicQuiet) {\n      this._quietStartTime = this._audioContext.currentTime;\n      this._eventTarget.dispatchEvent(new Event('quiet'));\n    }\n    // reset quiet timer when there's enough sound\n    if (this._isMicQuiet && !isMicQuiet) {\n      this._quietStartTime = 0;\n      this._eventTarget.dispatchEvent(new Event('unquiet'));\n    }\n    this._isMicQuiet = isMicQuiet;\n\n    // if autoincrease is enabled, exponentially increase the mimimun recording\n    // time based on consecutive silent recordings\n    const recordingTimeMin =\n      (this.recordingTimeMinAutoIncrease) ?\n        (this.recordingTimeMin - 1) +\n        (this.recordingTimeMax **\n         (1 - (1 / (this._silentRecordingConsecutiveCount + 1)))) :\n        this.recordingTimeMin;\n\n    // detect voice pause and stop recording\n    if (this.autoStopRecording &&\n      this._isMicQuiet && this._state === 'recording' &&\n      // have I been recording longer than the minimum recording time?\n      now - this._recordingStartTime > recordingTimeMin &&\n      // has the slow sample value been below the quiet threshold longer than\n      // the minimum allowed quiet time?\n      now - this._quietStartTime > this.quietTimeMin\n    ) {\n      this.stop();\n    }\n  }\n\n  /**\n   * Initializes the AudioContext\n   * Aassigs it to this._audioContext. Adds visibitily change event listener\n   * to suspend the audio context when the browser tab is hidden.\n   * @return {Promise} resolution of AudioContext\n   */\n  _initAudioContext() {\n    window.AudioContext = window.AudioContext || window.webkitAudioContext;\n    if (!window.AudioContext) {\n      return Promise.reject('Web Audio API not supported.');\n    }\n    this._audioContext = new AudioContext();\n    document.addEventListener('visibilitychange', () => {\n      console.info('visibility change triggered in recorder. hidden:', document.hidden);\n      if (document.hidden) {\n        this._audioContext.suspend();\n      } else {\n        this._audioContext.resume();\n      }\n    });\n    return Promise.resolve();\n  }\n\n  /**\n   * Private initializer of the audio buffer processor\n   * It manages the volume variables and sends the buffers to the worker\n   * when recording.\n   * Some of this came from:\n   * https://webrtc.github.io/samples/src/content/getusermedia/volume/js/soundmeter.js\n   */\n  _initMicVolumeProcessor() {\n    /* eslint no-plusplus: [\"error\", { \"allowForLoopAfterthoughts\": true }] */\n    // assumes a single channel - XXX does it need to handle 2 channels?\n    const processor = this._audioContext.createScriptProcessor(\n      this.bufferLength,\n      this.numChannels,\n      this.numChannels,\n    );\n    processor.onaudioprocess = (evt) => {\n      if (this._state === 'recording') {\n        // send buffers to worker\n        this._recordBuffers(evt.inputBuffer);\n\n        // stop recording if over the maximum time\n        if ((this._audioContext.currentTime - this._recordingStartTime)\n          > this.recordingTimeMax\n        ) {\n          console.warn('stopped recording due to maximum time');\n          this.stop();\n        }\n      }\n\n      // XXX assumes mono channel\n      const input = evt.inputBuffer.getChannelData(0);\n      let sum = 0.0;\n      let clipCount = 0;\n      for (let i = 0; i < input.length; ++i) {\n        // square to calculate signal power\n        sum += input[i] * input[i];\n        if (Math.abs(input[i]) > 0.99) {\n          clipCount += 1;\n        }\n      }\n      this._instant = Math.sqrt(sum / input.length);\n      this._slow = (0.95 * this._slow) + (0.05 * this._instant);\n      this._clip = (input.length) ? clipCount / input.length : 0;\n\n      this._setIsMicMuted();\n      this._setIsMicQuiet();\n\n      this._analyser.getFloatFrequencyData(this._analyserData);\n      this._maxVolume = Math.max(...this._analyserData);\n    };\n\n    this._micVolumeProcessor = processor;\n    return Promise.resolve();\n  }\n\n  /*\n   * Private initializers\n   */\n\n  /**\n   * Sets microphone using getUserMedia\n   * @return {Promise} returns a promise that resolves when the audio input\n   *   has been connected\n   */\n  _initStream() {\n    // TODO obtain with navigator.mediaDevices.getSupportedConstraints()\n    const constraints = {\n      audio: {\n        optional: [{\n          echoCancellation: this.requestEchoCancellation,\n        }],\n      },\n    };\n\n    return navigator.mediaDevices.getUserMedia(constraints)\n      .then((stream) => {\n        this._stream = stream;\n\n        this._tracks = stream.getAudioTracks();\n        console.info('using media stream track labeled: ', this._tracks[0].label);\n        // assumes single channel\n        this._tracks[0].onmute = this._setIsMicMuted;\n        this._tracks[0].onunmute = this._setIsMicMuted;\n\n        const source = this._audioContext.createMediaStreamSource(stream);\n        const gainNode = this._audioContext.createGain();\n        const analyser = this._audioContext.createAnalyser();\n\n        if (this.useBandPass) {\n          // bandpass filter around human voice\n          // https://developer.mozilla.org/en-US/docs/Web/API/BiquadFilterNode\n          const biquadFilter = this._audioContext.createBiquadFilter();\n          biquadFilter.type = 'bandpass';\n\n          biquadFilter.frequency.value = this.bandPassFrequency;\n          biquadFilter.gain.Q = this.bandPassQ;\n\n          source.connect(biquadFilter);\n          biquadFilter.connect(gainNode);\n          analyser.smoothingTimeConstant = 0.5;\n        } else {\n          source.connect(gainNode);\n          analyser.smoothingTimeConstant = 0.9;\n        }\n        analyser.fftSize = this.bufferLength;\n        analyser.minDecibels = -90;\n        analyser.maxDecibels = -30;\n\n        gainNode.connect(analyser);\n        analyser.connect(this._micVolumeProcessor);\n        this._analyserData = new Float32Array(analyser.frequencyBinCount);\n        this._analyser = analyser;\n\n        this._micVolumeProcessor.connect(\n          this._audioContext.destination,\n        );\n\n        this._eventTarget.dispatchEvent(new Event('streamReady'));\n      });\n  }\n\n  /*\n   * getters used to expose internal vars while avoiding issues when using with\n   * a reactive store (e.g. vuex).\n   */\n\n  /**\n   * Getter of recorder state. Based on MediaRecorder API.\n   * @return {string} state of recorder (inactive | recording | paused)\n   */\n  get state() {\n    return this._state;\n  }\n\n  /**\n   * Getter of stream object. Based on MediaRecorder API.\n   * @return {MediaStream} media stream object obtain from getUserMedia\n   */\n  get stream() {\n    return this._stream;\n  }\n\n  get isMicQuiet() {\n    return this._isMicQuiet;\n  }\n\n  get isMicMuted() {\n    return this._isMicMuted;\n  }\n\n  get isSilentRecording() {\n    return this._isSilentRecording;\n  }\n\n  get isRecording() {\n    return (this._state === 'recording');\n  }\n\n  /**\n  * Getter of mic volume levels.\n  * instant: root mean square of levels in buffer\n  * slow: time decaying level\n  * clip: count of samples at the top of signals (high noise)\n  */\n  get volume() {\n    return ({\n      instant: this._instant,\n      slow: this._slow,\n      clip: this._clip,\n      max: this._maxVolume,\n    });\n  }\n\n  /*\n   * Private initializer of event target\n   * Set event handlers that mimic MediaRecorder events plus others\n   */\n\n  // TODO make setters replace the listener insted of adding\n  set onstart(cb) {\n    this._eventTarget.addEventListener('start', cb);\n  }\n  set onstop(cb) {\n    this._eventTarget.addEventListener('stop', cb);\n  }\n  set ondataavailable(cb) {\n    this._eventTarget.addEventListener('dataavailable', cb);\n  }\n  set onerror(cb) {\n    this._eventTarget.addEventListener('error', cb);\n  }\n  set onstreamready(cb) {\n    this._eventTarget.addEventListener('streamready', cb);\n  }\n  set onmute(cb) {\n    this._eventTarget.addEventListener('mute', cb);\n  }\n  set onunmute(cb) {\n    this._eventTarget.addEventListener('unmute', cb);\n  }\n  set onsilentrecording(cb) {\n    this._eventTarget.addEventListener('silentrecording', cb);\n  }\n  set onunsilentrecording(cb) {\n    this._eventTarget.addEventListener('unsilentrecording', cb);\n  }\n  set onquiet(cb) {\n    this._eventTarget.addEventListener('quiet', cb);\n  }\n  set onunquiet(cb) {\n    this._eventTarget.addEventListener('unquiet', cb);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/lex/recorder.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/toConsumableArray.js\n// module id = 160\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/array/from.js\n// module id = 161\n// module chunks = 0","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/array/from.js\n// module id = 162\n// module chunks = 0","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.array.from.js\n// module id = 163\n// module chunks = 0","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_create-property.js\n// module id = 164\n// module chunks = 0","module.exports = function() {\n\treturn require(\"!!C:\\\\Users\\\\oatoa\\\\Desktop\\\\ProServ\\\\Projects\\\\AHA\\\\aws-lex-web-ui\\\\lex-web-ui\\\\node_modules\\\\worker-loader\\\\createInlineWorker.js\")(\"/******/ (function(modules) { // webpackBootstrap\\n/******/ \\t// The module cache\\n/******/ \\tvar installedModules = {};\\n/******/\\n/******/ \\t// The require function\\n/******/ \\tfunction __webpack_require__(moduleId) {\\n/******/\\n/******/ \\t\\t// Check if module is in cache\\n/******/ \\t\\tif(installedModules[moduleId]) {\\n/******/ \\t\\t\\treturn installedModules[moduleId].exports;\\n/******/ \\t\\t}\\n/******/ \\t\\t// Create a new module (and put it into the cache)\\n/******/ \\t\\tvar module = installedModules[moduleId] = {\\n/******/ \\t\\t\\ti: moduleId,\\n/******/ \\t\\t\\tl: false,\\n/******/ \\t\\t\\texports: {}\\n/******/ \\t\\t};\\n/******/\\n/******/ \\t\\t// Execute the module function\\n/******/ \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n/******/\\n/******/ \\t\\t// Flag the module as loaded\\n/******/ \\t\\tmodule.l = true;\\n/******/\\n/******/ \\t\\t// Return the exports of the module\\n/******/ \\t\\treturn module.exports;\\n/******/ \\t}\\n/******/\\n/******/\\n/******/ \\t// expose the modules object (__webpack_modules__)\\n/******/ \\t__webpack_require__.m = modules;\\n/******/\\n/******/ \\t// expose the module cache\\n/******/ \\t__webpack_require__.c = installedModules;\\n/******/\\n/******/ \\t// define getter function for harmony exports\\n/******/ \\t__webpack_require__.d = function(exports, name, getter) {\\n/******/ \\t\\tif(!__webpack_require__.o(exports, name)) {\\n/******/ \\t\\t\\tObject.defineProperty(exports, name, {\\n/******/ \\t\\t\\t\\tconfigurable: false,\\n/******/ \\t\\t\\t\\tenumerable: true,\\n/******/ \\t\\t\\t\\tget: getter\\n/******/ \\t\\t\\t});\\n/******/ \\t\\t}\\n/******/ \\t};\\n/******/\\n/******/ \\t// getDefaultExport function for compatibility with non-harmony modules\\n/******/ \\t__webpack_require__.n = function(module) {\\n/******/ \\t\\tvar getter = module && module.__esModule ?\\n/******/ \\t\\t\\tfunction getDefault() { return module['default']; } :\\n/******/ \\t\\t\\tfunction getModuleExports() { return module; };\\n/******/ \\t\\t__webpack_require__.d(getter, 'a', getter);\\n/******/ \\t\\treturn getter;\\n/******/ \\t};\\n/******/\\n/******/ \\t// Object.prototype.hasOwnProperty.call\\n/******/ \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n/******/\\n/******/ \\t// __webpack_public_path__\\n/******/ \\t__webpack_require__.p = \\\"/\\\";\\n/******/\\n/******/ \\t// Load entry module and return exports\\n/******/ \\treturn __webpack_require__(__webpack_require__.s = 0);\\n/******/ })\\n/************************************************************************/\\n/******/ ([\\n/* 0 */\\n/***/ (function(module, exports) {\\n\\n// based on https://github.com/mattdiamond/Recorderjs/blob/master/src/recorder.js\\n// with a few optimizations including downsampling and trimming quiet samples\\n\\n/* global Blob self */\\n/* eslint prefer-arrow-callback: [\\\"error\\\", { \\\"allowNamedFunctions\\\": true }] */\\n/* eslint no-param-reassign: [\\\"error\\\", { \\\"props\\\": false }] */\\n/* eslint no-use-before-define: [\\\"error\\\", { \\\"functions\\\": false }] */\\n/* eslint no-plusplus: off */\\n/* eslint comma-dangle: [\\\"error\\\", {\\\"functions\\\": \\\"never\\\", \\\"objects\\\": \\\"always-multiline\\\"}] */\\nconst bitDepth = 16;\\nconst bytesPerSample = bitDepth / 8;\\nconst outSampleRate = 16000;\\nconst outNumChannels = 1;\\n\\nlet recLength = 0;\\nlet recBuffers = [];\\n\\nconst options = {\\n  sampleRate: 44000,\\n  numChannels: 1,\\n  useDownsample: true,\\n  // controls if the encoder will trim silent samples at begining and end of buffer\\n  useTrim: true,\\n  // trim samples below this value at the beginnig and end of the buffer\\n  // lower the value trim less silence (larger file size)\\n  // reasonable values seem to be between 0.005 and 0.0005\\n  quietTrimThreshold: 0.0008,\\n  // how many samples to add back to the buffer before/after the quiet threshold\\n  // higher values result in less silence trimming (larger file size)\\n  // reasonable values seem to be between 3500 and 5000\\n  quietTrimSlackBack: 4000,\\n};\\n\\nself.onmessage = (evt) => {\\n  switch (evt.data.command) {\\n    case 'init':\\n      init(evt.data.config);\\n      break;\\n    case 'record':\\n      record(evt.data.buffer);\\n      break;\\n    case 'exportWav':\\n      exportWAV(evt.data.type);\\n      break;\\n    case 'getBuffer':\\n      getBuffer();\\n      break;\\n    case 'clear':\\n      clear();\\n      break;\\n    case 'close':\\n      self.close();\\n      break;\\n    default:\\n      break;\\n  }\\n};\\n\\nfunction init(config) {\\n  Object.assign(options, config);\\n  initBuffers();\\n}\\n\\nfunction record(inputBuffer) {\\n  for (let channel = 0; channel < options.numChannels; channel++) {\\n    recBuffers[channel].push(inputBuffer[channel]);\\n  }\\n  recLength += inputBuffer[0].length;\\n}\\n\\nfunction exportWAV(type) {\\n  const buffers = [];\\n  for (let channel = 0; channel < options.numChannels; channel++) {\\n    buffers.push(mergeBuffers(recBuffers[channel], recLength));\\n  }\\n  let interleaved;\\n  if (options.numChannels === 2 && outNumChannels === 2) {\\n    interleaved = interleave(buffers[0], buffers[1]);\\n  } else {\\n    interleaved = buffers[0];\\n  }\\n  const downsampledBuffer = downsampleTrimBuffer(interleaved, outSampleRate);\\n  const dataview = encodeWAV(downsampledBuffer);\\n  const audioBlob = new Blob([dataview], { type });\\n\\n  self.postMessage({\\n    command: 'exportWAV',\\n    data: audioBlob,\\n  });\\n}\\n\\nfunction getBuffer() {\\n  const buffers = [];\\n  for (let channel = 0; channel < options.numChannels; channel++) {\\n    buffers.push(mergeBuffers(recBuffers[channel], recLength));\\n  }\\n  self.postMessage({ command: 'getBuffer', data: buffers });\\n}\\n\\nfunction clear() {\\n  recLength = 0;\\n  recBuffers = [];\\n  initBuffers();\\n}\\n\\nfunction initBuffers() {\\n  for (let channel = 0; channel < options.numChannels; channel++) {\\n    recBuffers[channel] = [];\\n  }\\n}\\n\\nfunction mergeBuffers(recBuffer, length) {\\n  const result = new Float32Array(length);\\n  let offset = 0;\\n  for (let i = 0; i < recBuffer.length; i++) {\\n    result.set(recBuffer[i], offset);\\n    offset += recBuffer[i].length;\\n  }\\n  return result;\\n}\\n\\nfunction interleave(inputL, inputR) {\\n  const length = inputL.length + inputR.length;\\n  const result = new Float32Array(length);\\n\\n  let index = 0;\\n  let inputIndex = 0;\\n\\n  while (index < length) {\\n    result[index++] = inputL[inputIndex];\\n    result[index++] = inputR[inputIndex];\\n    inputIndex++;\\n  }\\n  return result;\\n}\\n\\nfunction floatTo16BitPCM(output, offset, input) {\\n  for (let i = 0, o = offset; i < input.length; i++, o += 2) {\\n    const s = Math.max(-1, Math.min(1, input[i]));\\n    output.setInt16(o, s < 0 ? s * 0x8000 : s * 0x7FFF, true);\\n  }\\n}\\n\\n// Lex doesn't require proper wav header\\n// still inserting wav header for playing on client side\\nfunction addHeader(view, length) {\\n  // RIFF identifier 'RIFF'\\n  view.setUint32(0, 1380533830, false);\\n  // file length minus RIFF identifier length and file description length\\n  view.setUint32(4, 36 + length, true);\\n  // RIFF type 'WAVE'\\n  view.setUint32(8, 1463899717, false);\\n  // format chunk identifier 'fmt '\\n  view.setUint32(12, 1718449184, false);\\n  // format chunk length\\n  view.setUint32(16, 16, true);\\n  // sample format (raw)\\n  view.setUint16(20, 1, true);\\n  // channel count\\n  view.setUint16(22, outNumChannels, true);\\n  // sample rate\\n  view.setUint32(24, outSampleRate, true);\\n  // byte rate (sample rate * block align)\\n  view.setUint32(28, outSampleRate * bytesPerSample * outNumChannels, true);\\n  // block align (channel count * bytes per sample)\\n  view.setUint16(32, bytesPerSample * outNumChannels, true);\\n  // bits per sample\\n  view.setUint16(34, bitDepth, true);\\n  // data chunk identifier 'data'\\n  view.setUint32(36, 1684108385, false);\\n}\\n\\nfunction encodeWAV(samples) {\\n  const buffer = new ArrayBuffer(44 + (samples.length * 2));\\n  const view = new DataView(buffer);\\n\\n  addHeader(view, samples.length);\\n  floatTo16BitPCM(view, 44, samples);\\n\\n  return view;\\n}\\n\\nfunction downsampleTrimBuffer(buffer, rate) {\\n  if (rate === options.sampleRate) {\\n    return buffer;\\n  }\\n\\n  const length = buffer.length;\\n  const sampleRateRatio = options.sampleRate / rate;\\n  const newLength = Math.round(length / sampleRateRatio);\\n\\n  const result = new Float32Array(newLength);\\n  let offsetResult = 0;\\n  let offsetBuffer = 0;\\n  let firstNonQuiet = 0;\\n  let lastNonQuiet = length;\\n  while (offsetResult < result.length) {\\n    const nextOffsetBuffer = Math.round((offsetResult + 1) * sampleRateRatio);\\n    let accum = 0;\\n    let count = 0;\\n    for (let i = offsetBuffer; (i < nextOffsetBuffer) && (i < length); i++) {\\n      accum += buffer[i];\\n      count++;\\n    }\\n    // mark first and last sample over the quiet threshold\\n    if (accum > options.quietTrimThreshold) {\\n      if (firstNonQuiet === 0) {\\n        firstNonQuiet = offsetResult;\\n      }\\n      lastNonQuiet = offsetResult;\\n    }\\n    result[offsetResult] = accum / count;\\n    offsetResult++;\\n    offsetBuffer = nextOffsetBuffer;\\n  }\\n\\n  /*\\n  console.info('encoder trim size reduction',\\n    (Math.min(newLength, lastNonQuiet + options.quietTrimSlackBack) -\\n    Math.max(0, firstNonQuiet - options.quietTrimSlackBack)) / result.length\\n  );\\n  */\\n  return (options.useTrim) ?\\n    // slice based on quiet threshold and put slack back into the buffer\\n    result.slice(\\n      Math.max(0, firstNonQuiet - options.quietTrimSlackBack),\\n      Math.min(newLength, lastNonQuiet + options.quietTrimSlackBack)\\n    ) :\\n    result;\\n}\\n\\n\\n/***/ })\\n/******/ ]);\\n//# sourceMappingURL=wav-worker.js.map\", __webpack_public_path__ + \"bundle/wav-worker.js\");\n};\n\n\n// WEBPACK FOOTER //\n// ./src/lib/lex/wav-worker.js","// http://stackoverflow.com/questions/10343913/how-to-create-a-web-worker-from-a-string\r\n\r\nvar URL = window.URL || window.webkitURL;\r\nmodule.exports = function(content, url) {\r\n  try {\r\n    try {\r\n      var blob;\r\n      try { // BlobBuilder = Deprecated, but widely implemented\r\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\r\n        blob = new BlobBuilder();\r\n        blob.append(content);\r\n        blob = blob.getBlob();\r\n      } catch(e) { // The proposed API\r\n        blob = new Blob([content]);\r\n      }\r\n      return new Worker(URL.createObjectURL(blob));\r\n    } catch(e) {\r\n      return new Worker('data:application/javascript,' + encodeURIComponent(content));\r\n    }\r\n  } catch(e) {\r\n    if (!url) {\r\n      throw Error('Inline worker is not supported');\r\n    }\r\n    return new Worker(url);\r\n  }\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/worker-loader/createInlineWorker.js\n// module id = 166\n// module chunks = 0","/*\n Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\n Licensed under the Amazon Software License (the \"License\"). You may not use this file\n except in compliance with the License. A copy of the License is located at\n\n http://aws.amazon.com/asl/\n\n or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\n BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\n License for the specific language governing permissions and limitations under the License.\n */\n\n/**\n * Vuex store recorder handlers\n */\n\n/* eslint no-console: [\"error\", { allow: [\"info\", \"warn\", \"error\", \"time\", \"timeEnd\"] }] */\n/* eslint no-param-reassign: [\"error\", { \"props\": false }] */\n\nconst initRecorderHandlers = (context, recorder) => {\n  /* global Blob */\n\n  recorder.onstart = () => {\n    console.info('recorder start event triggered');\n    console.time('recording time');\n  };\n  recorder.onstop = () => {\n    context.dispatch('stopRecording');\n    console.timeEnd('recording time');\n    console.time('recording processing time');\n    console.info('recorder stop event triggered');\n  };\n  recorder.onsilentrecording = () => {\n    console.info('recorder silent recording triggered');\n    context.commit('increaseSilentRecordingCount');\n  };\n  recorder.onunsilentrecording = () => {\n    if (context.state.recState.silentRecordingCount > 0) {\n      context.commit('resetSilentRecordingCount');\n    }\n  };\n  recorder.onerror = (e) => {\n    console.error('recorder onerror event triggered', e);\n  };\n  recorder.onstreamready = () => {\n    console.info('recorder stream ready event triggered');\n  };\n  recorder.onmute = () => {\n    console.info('recorder mute event triggered');\n    context.commit('setIsMicMuted', true);\n  };\n  recorder.onunmute = () => {\n    console.info('recorder unmute event triggered');\n    context.commit('setIsMicMuted', false);\n  };\n  recorder.onquiet = () => {\n    console.info('recorder quiet event triggered');\n    context.commit('setIsMicQuiet', true);\n  };\n  recorder.onunquiet = () => {\n    console.info('recorder unquiet event triggered');\n    context.commit('setIsMicQuiet', false);\n  };\n\n  // TODO need to change recorder event setter to support\n  // replacing handlers instead of adding\n  recorder.ondataavailable = (e) => {\n    const mimeType = recorder.mimeType;\n    console.info('recorder data available event triggered');\n    const audioBlob = new Blob(\n      [e.detail], { type: mimeType },\n    );\n    // XXX not used for now since only encoding WAV format\n    let offset = 0;\n    // offset is only needed for opus encoded ogg files\n    // extract the offset where the opus frames are found\n    // leaving for future reference\n    // https://tools.ietf.org/html/rfc7845\n    // https://tools.ietf.org/html/rfc6716\n    // https://www.xiph.org/ogg/doc/framing.html\n    if (mimeType.startsWith('audio/ogg')) {\n      offset = 125 + e.detail[125] + 1;\n    }\n    console.timeEnd('recording processing time');\n\n    context.dispatch('lexPostContent', audioBlob, offset)\n      .then((lexAudioBlob) => {\n        if (context.state.recState.silentRecordingCount >=\n          context.state.config.converser.silentConsecutiveRecordingMax\n        ) {\n          return Promise.reject(\n            'Too many consecutive silent recordings: ' +\n            `${context.state.recState.silentRecordingCount}.`,\n          );\n        }\n        return Promise.all([\n          context.dispatch('getAudioUrl', audioBlob),\n          context.dispatch('getAudioUrl', lexAudioBlob),\n        ]);\n      })\n      .then((audioUrls) => {\n        // handle being interrupted by text\n        if (context.state.lex.dialogState !== 'Fulfilled' &&\n            !context.state.recState.isConversationGoing\n        ) {\n          return Promise.resolve();\n        }\n        const [humanAudioUrl, lexAudioUrl] = audioUrls;\n        context.dispatch('pushMessage', {\n          type: 'human',\n          audio: humanAudioUrl,\n          text: context.state.lex.inputTranscript,\n        });\n        context.dispatch('pushMessage', {\n          type: 'bot',\n          audio: lexAudioUrl,\n          text: context.state.lex.message,\n          dialogState: context.state.lex.dialogState,\n          responseCard: context.state.lex.responseCard,\n        });\n        return context.dispatch('playAudio', lexAudioUrl, {}, offset);\n      })\n      .then(() => {\n        if (\n          ['Fulfilled', 'ReadyForFulfillment', 'Failed'].indexOf(\n            context.state.lex.dialogState,\n          ) >= 0\n        ) {\n          return context.dispatch('stopConversation')\n            .then(() => context.dispatch('reInitBot'));\n        }\n\n        if (context.state.recState.isConversationGoing) {\n          return context.dispatch('startRecording');\n        }\n        return Promise.resolve();\n      })\n      .catch((error) => {\n        console.error('converser error:', error);\n        context.dispatch('stopConversation');\n        context.dispatch('pushErrorMessage',\n          `I had an error. ${error}`,\n        );\n        context.commit('resetSilentRecordingCount');\n      });\n  };\n};\nexport default initRecorderHandlers;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/recorder-handlers.js","module.exports = \"data:audio/ogg;base64,T2dnUwACAAAAAAAAAAAyzN3NAAAAAGFf2X8BM39GTEFDAQAAAWZMYUMAAAAiEgASAAAAAAAkFQrEQPAAAAAAAAAAAAAAAAAAAAAAAAAAAE9nZ1MAAAAAAAAAAAAAMszdzQEAAAD5LKCSATeEAAAzDQAAAExhdmY1NS40OC4xMDABAAAAGgAAAGVuY29kZXI9TGF2YzU1LjY5LjEwMCBmbGFjT2dnUwAEARIAAAAAAAAyzN3NAgAAAKWVljkCDAD/+GkIAAAdAAABICI=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/silent.ogg\n// module id = 168\n// module chunks = 0","module.exports = \"data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU2LjM2LjEwMAAAAAAAAAAAAAAA//OEAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAEAAABIADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV6urq6urq6urq6urq6urq6urq6urq6urq6v////////////////////////////////8AAAAATGF2YzU2LjQxAAAAAAAAAAAAAAAAJAAAAAAAAAAAASDs90hvAAAAAAAAAAAAAAAAAAAA//MUZAAAAAGkAAAAAAAAA0gAAAAATEFN//MUZAMAAAGkAAAAAAAAA0gAAAAARTMu//MUZAYAAAGkAAAAAAAAA0gAAAAAOTku//MUZAkAAAGkAAAAAAAAA0gAAAAANVVV\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/silent.mp3\n// module id = 169\n// module chunks = 0","/*\n Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\n Licensed under the Amazon Software License (the \"License\"). You may not use this file\n except in compliance with the License. A copy of the License is located at\n\n http://aws.amazon.com/asl/\n\n or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\n BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\n License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint no-console: [\"error\", { allow: [\"warn\", \"error\"] }] */\n\nexport default class {\n  constructor({\n    botName,\n    botAlias = '$LATEST',\n    userId,\n    lexRuntimeClient,\n  }) {\n    if (!botName || !lexRuntimeClient) {\n      throw new Error('invalid lex client constructor arguments');\n    }\n\n    this.botName = botName;\n    this.botAlias = botAlias;\n    this.userId = userId ||\n      'lex-web-ui-' +\n      `${Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1)}`;\n\n    this.lexRuntimeClient = lexRuntimeClient;\n    this.credentials = this.lexRuntimeClient.config.credentials;\n  }\n\n  initCredentials(credentials) {\n    this.credentials = credentials;\n    this.lexRuntimeClient.config.credentials = this.credentials;\n    this.userId = (credentials.identityId) ?\n      credentials.identityId :\n      this.userId;\n  }\n\n  postText(inputText, sessionAttributes = {}) {\n    const postTextReq = this.lexRuntimeClient.postText({\n      botAlias: this.botAlias,\n      botName: this.botName,\n      userId: this.userId,\n      inputText,\n      sessionAttributes,\n    });\n    return this.credentials.getPromise()\n      .then(creds => creds && this.initCredentials(creds))\n      .then(() => postTextReq.promise());\n  }\n\n  postContent(\n    blob,\n    sessionAttributes = {},\n    acceptFormat = 'audio/ogg',\n    offset = 0,\n  ) {\n    const mediaType = blob.type;\n    let contentType = mediaType;\n\n    if (mediaType.startsWith('audio/wav')) {\n      contentType = 'audio/x-l16; sample-rate=16000; channel-count=1';\n    } else if (mediaType.startsWith('audio/ogg')) {\n      contentType =\n      'audio/x-cbr-opus-with-preamble; bit-rate=32000;' +\n        ` frame-size-milliseconds=20; preamble-size=${offset}`;\n    } else {\n      console.warn('unknown media type in lex client');\n    }\n\n    const postContentReq = this.lexRuntimeClient.postContent({\n      accept: acceptFormat,\n      botAlias: this.botAlias,\n      botName: this.botName,\n      userId: this.userId,\n      contentType,\n      inputStream: blob,\n      sessionAttributes,\n    });\n\n    return this.credentials.getPromise()\n      .then(creds => creds && this.initCredentials(creds))\n      .then(() => postContentReq.promise());\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/lex/client.js"],"sourceRoot":""}